{"version":3,"sources":["components/useResizeObserver.js","components/generateIntervals.js","components/Graphic.js","components/Image.js","components/InputFormScale.js","components/InputFormText.js","components/InputFormNum.js","components/NewInstantForm.js","components/NewIntervalForm.js","components/NewZoneForm.js","components/NewScaleForm.js","components/EditScaleForm.js","components/deleteInstant.js","components/deleteInterval.js","assets/icons/edit.svg","components/EditForm.js","components/InfoBox.js","components/ExportDataForm.js","components/ImportDataForm.js","assets/icons/file.svg","assets/icons/instant.svg","assets/icons/interval.svg","assets/icons/zone.svg","assets/icons/menu.svg","assets/icons/pan.svg","assets/icons/scales.svg","assets/icons/views.svg","assets/icons/connection1.svg","assets/icons/causation.svg","components/NavBar.js","components/Layers.js","components/Scrubber.js","components/Legend.js","components/SelectedDisplay.js","components/Certainty.js","components/Importance.js","components/Connection.js","components/WelcomeMessage.js","components/EmptyProj.js","components/DataLibrary.js","App.js","reportWebVitals.js","index.js"],"names":["useResizeObserver","ref","useState","dimensions","setDimensions","useEffect","observeTarget","current","resizeObserver","ResizeObserver","entries","forEach","entry","contentRect","observe","unobserve","generateIntervals","data","intervals","Object","item","value","target","n","instant","push","source","text","intervalText","color","intervalColor","width","intervalWidth","opacity","intervalOpacity","dashed","intervalDashed","Graphic","setData","updateSrc","activeLayer","zones","radius","setZones","setInfo","info","setInflectTarget","showLabel","toggle","setToggle","scales","syntacticOrder","setScales","setSyntacticOrder","activeScale","activeData","activeZones","logic","length","isNaN","x","svgRef","useRef","wrapperRef","currentZoomState","setCurrentZoomState","yScales","yTicks","y","k","v","scale","scaleLinear","domain","height","range","min","max","drag","ticks","Set","svg","select","selectAll","remove","logicScale","scaleOrdinal","unknown","map","yMin","yMax","rangeY","xInverse","currentScale","xScales","fromEntries","key","thisScale","noBeginning","noEnd","hasSegments","segments","hideLabel","yPos","label","units","tickValues","scaleInverse","newXScale","rescaleX","yScale","yScaleInverse","yScaleInverseDrag","join","attr","start","end","importance","on","e","position","type","stopPropagation","keys","i","proportion","segment","xSegments","axisBottom","tickSize","append","style","call","raise","g","d","xAxis","concat","tickFormat","format","yAxis","axisLeft","hideLabels","dragged","dx","subject","dy","newInstants","console","log","intervaler","linkHorizontal","interval","newOrder","layerX","layerY","newData","cancelled","find","id","foreshadowing","cancelledSymbol","draw","context","size","s","Math","sqrt","moveTo","lineTo","closePath","filter","symbol","thisSourceScale","thisTargetScale","zoomBehavior","zoom","scaleExtent","translateExtent","zoomState","transform","zoomRange","invert","round","precision","log10","floor","pow","className","Image","props","src","urls","alt","InputFormScale","name","onChange","list","InputFormText","placeholder","required","InputFormNum","NewInstantForm","state","xValue","yValue","xScale","handleChange","bind","handleClose","handleSubmit","this","setState","preventDefault","lastKey","pop","parseInt","lastInstant","tempx","parseFloat","tempy","alert","onClick","React","Component","NewIntervalForm","history","setHistory","xValue1","yValue1","xValue2","yValue2","values","setValues","xSelect","ySelect","tempX1","tempY1","tempX2","tempY2","NewZoneForm","yStart","yEnd","newZones","NewScaleForm","setActiveScale","xName","xMin","xMax","xUnits","xYPos","xTickValues","xHideUnits","xSegmentsNum","yName","yUnits","yPercent","yHideUnits","newScales","tempxMin","tempxMax","tempYPos","tempyMin","tempyMax","EditScaleForm","hideUnits","percent","newActiveScale","deleteInstant","includes","deleteInterval","_g","srcKey","targetKey","_excluded","_extends","assign","arguments","prototype","hasOwnProperty","apply","_objectWithoutProperties","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgEdit","_ref","title","titleId","xmlns","viewBox","ForwardRef","EditForm","editMode","inputType","nullValue","InfoBox","content","Array","isArray","body","document","html","documentElement","docuHeight","scrollHeight","offsetHeight","clientHeight","docuWidth","scrollWidth","offsetWidth","clientWidth","infoPos","halfWidth","halfHeight","setEditMode","dataValues","time","sourceX","sourceY","targetX","targetY","timeStart","timeEnd","handleCancel","xyNums","node","ExportDataForm","setSrc","fileName","setName","onSubmit","newSrc","instants","fileData","JSON","stringify","blob","Blob","url","URL","createObjectURL","link","createElement","download","href","click","ImportDataForm","_defs","setFileName","setProj","selectedFile","setSelectedFile","isSelected","setIsSelected","fileReader","FileReader","readAsText","onload","parse","result","replace","onerror","error","files","SvgFile","SvgInstant","cx","cy","r","SvgInterval","SvgZone","SvgMenu","SvgPan","SvgScales","SvgViews","SvgConnection1","EditButton","NavBar","iconTempObj","setIconTempObj","handleClick","setNav","window","confirm","location","reload","open","disabled","hasScales","nav","proj","undo","canUndo","Layers","setActiveLayer","parent","parentNode","layers","layer","sort","a","b","number","Scrubber","setActiveData","Legend","backgroundColor","SelectedDisplay","Certainty","input","setInput","Importance","Zones","Connection","connections","instant2","WelcomeMessage","EmptyProj","DataLibrary","projects","selectedProject","setSelectedProject","checked","description","App","LifeImportanceData","TagVisData","WaitingForBusData","NullData","setShowLabel","inflectTarget","newHistory","last","undefined","imgs","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.814b9fb4.chunk.js","sourcesContent":["import { useEffect, useState } from \"react\";\nimport ResizeObserver from \"resize-observer-polyfill\"; //otherwise breaks in safari and edge\n\n/**\n* A hook that defines an html dom element for ResizeObserver to watch\n**/\n\nconst useResizeObserver = ref => {\n  const [dimensions, setDimensions] = useState(null);\n  //only access reference (aka the svg) when it's rendered\n  useEffect(() => {\n    const observeTarget = ref.current;\n    //create new resize observer w callback that takes resize target as args\n    const resizeObserver =  new ResizeObserver((entries) => {\n      //contentRect is the part ResizeObserver returns that has xy dimensions\n      entries.forEach(entry => {\n        setDimensions(entry.contentRect);\n      });\n    });\n    resizeObserver.observe(observeTarget);\n    //cleanup function when unmount\n    return () => {\n      resizeObserver.unobserve(observeTarget);\n    };\n  }, [ref]);\n  return dimensions;\n};\n\nexport default useResizeObserver;\n","/*\n   generates intervals between all intervaled instants and\n   returns a interval object with interval properties.\n*/\n\nfunction generateIntervals(data) {\n// console.log(data[8])\n  /*\n    expand to standalone paths? bezier curve: https://svg-path-visualizer.netlify.app/bezier-curve/\n    - start: can specify point or enter coordinate values directly (run thru xScale)\n    - control: ???\n    - end: same as start\n    output: M startX,startY C controlX1,controlY1 controlX2,controlY2 endX, endY\n  */\n\n  const intervals = []; //array of all instant intervals\n\n  Object.entries(data).forEach((item) => {\n    const key = item[0];\n    const value = item[1];\n\n    if (!value.target) {\n      //if the instant does not have a target, skip generating interval\n      return\n    } else {\n      value.target.forEach((n) => {\n        const instant = [n, data[n]];\n        if (instant[1]) { //does instant exist?\n          intervals.push({\n            source:item,\n            target:instant,\n            text: value.intervalText,\n            color:value.intervalColor ? value.intervalColor : value.color ? value.color : null, //if not specified, use point color. otherwise, null\n            width:value.intervalWidth,\n            opacity:value.intervalOpacity ? value.intervalOpacity : null,\n            dashed: value.intervalDashed\n          });\n        }\n      });\n    }\n  });\n  return intervals;\n};\n\nexport default generateIntervals;\n","import React, { useState, useEffect, useRef } from 'react';\nimport { select, scaleLinear, scaleOrdinal, axisBottom, axisLeft, linkHorizontal, format, drag, zoom, min, max, symbol, symbols } from \"d3\";\nimport useResizeObserver from \"./useResizeObserver\";\nimport generateIntervals from \"./generateIntervals\";\n\nfunction Graphic({\n  data, setData,\n  updateSrc,\n  activeLayer,\n  zones, setZones,\n  radius,\n  info, setInfo,\n  setInflectTarget,\n  showLabel,\n  toggle, setToggle,\n  scales, setScales,\n  syntacticOrder, setSyntacticOrder,\n  activeScale\n}) {\n\n  //all data is passed down from and synced to App.js\n  const activeData = Object.entries(data); //convert json to array for faster processing\n  const activeZones = Object.entries(zones);\n  //TODO: layers\n  // const activeData = activeLayer ? Object.entries(data).filter(([k,v]) => v.layer === activeLayer) : arrayData;\n\n  //convert scale object to array for faster processing\n\n\n  //is logical operators active?\n  const logic = data.length? isNaN(data[0].x): null; //TODO: refine logical operators\n\n  //initialize reference object to pass to svg in React Dom\n  const svgRef = useRef();\n  //svg wrapped in div bc otherwise resize observer callback won't work\n  const wrapperRef = useRef();\n  const dimensions = useResizeObserver(wrapperRef);\n  const [currentZoomState, setCurrentZoomState] = useState();\n\n  //hash map of y scales\n  const yScales = {};\n\n  //init scales. turn into useRef eventually\n  useEffect(() => {\n    if (!dimensions) return;\n    const yTicks = [];\n\n    for (let v of activeData) {\n      yTicks.push(activeData.y);\n    }\n\n    Object.entries(scales.y).forEach(([k, v]) => {\n      yScales[k]= {\n        scale: scaleLinear()\n        .domain([0, dimensions.height])\n        .range([v.min, v.max]),\n        drag: scaleLinear()\n        .domain([-dimensions.height, dimensions.height])\n        .range([-(v.max-v.min), (v.max-v.min)]),\n        ticks: [...new Set(yTicks)]\n      }\n    });\n  }, [dimensions, scales, currentZoomState, data]);\n\n  //initialize intervals between instants\n  const intervals = generateIntervals(data); //TODO: write updateIntervals function\n\n  //initialize variables\n  /*\n  var xMin = min(Object.entries(data).map(([key, {x}]) => logic ? logicScale(x) : x));\n  var xMax = max(Object.entries(data).map(([key, {x}]) => logic ? logicScale(x) : x));\n  var yMin = min(Object.entries(data).map(([key, {y}]) => y));\n  var yMax = max(Object.entries(data).map(([key, {y}]) => y));\n  */\n\n  //all d3 shennanigans goes in this hook. called initially and on every data change\n  useEffect(() => {\n    const svg = select(svgRef.current); //\"svg\" is the current version of svgRef data\n    //prevents crashing when useResizeObserver returns null before svg is rendered\n    if (!dimensions) return;\n    //removes svgs added using append()\n    svg\n      .selectAll(\".remove\")\n      .remove();\n    //removes\n    if (!activeData.length) {\n      svg\n        .selectAll(\".instant\")\n        .remove();\n      svg\n        .selectAll(\".interval\")\n        .remove();\n      svg\n        .selectAll(\".label\")\n        .remove();\n      svg\n        .selectAll(\".intervalLabel\")\n        .remove();\n\n    } else if (!activeZones.length) {\n      svg\n        .selectAll(\".zones\")\n        .remove();\n      svg\n        .selectAll(\".zonesLabel\")\n        .remove();\n    }\n\n    //rounding for data inputted thru paintbox interface\n    function round(value, range) {\n      const precision = Math.log10(range)<1 ? -(Math.floor(Math.log10(range)-1)) : 0;\n      return Math.round(value*Math.pow(10, precision))/ Math.pow(10, precision)\n    }\n\n\n    //---scales---//\n\n    //if time matches logical operator keyword, translate into index values, then map\n    const logicScale = scaleOrdinal([\"before\", \"now\", \"after\"], [-1, 0, 1]).unknown(0);\n\n    const breakpoint = 5;\n\n\n    const xMin = min(activeData.map(([key, {x}]) => logic ? logicScale(x) : x));\n    const xMax = max(activeData.map(([key, {x}]) => logic ? logicScale(x) : x));\n    // const yMin = min(Object.entries(data).map(([key, {y}]) => y));\n    // const yMax = max(Object.entries(data).map(([key, {y}]) => y));\n    const yTicks = activeData.map(([,{y}]) => y);\n    const yMin = scales.y[activeScale[1]].min;\n    const yMax = scales.y[activeScale[1]].max;\n    const rangeX = xMax-xMin; //0 is minX, 1 is maxX (reference findMinMax)\n    const rangeY = yMax-yMin;\n\n\n    /*\n    - Allow users to specify scale. x&y min max and units label\n    - for each scale, generateScale()\n    */\n\n    // function generateScales(currentScale) { //TODO: turn into dedicated scaleDrag\n    //\n    //   const xInverse = scaleLinear()\n    //     .domain([0, dimensions.width])\n    //     .range([currentScale.min, currentScale.max]) //maxRangeX-minRangeX gives section of x values displayed onscreen\n    //   const xDrag = scaleLinear()\n    //     .domain([-dimensions.width, dimensions.width])\n    //     .range([-(currentScale.domain()[1]-currentScale.domain()[0]), (currentScale.domain()[1]-currentScale.domain()[0])]) //maxRangeX-minRangeX gives section of x values displayed onscreen\n    //   const yInverse = scaleLinear()\n    //     .domain([-dimensions.height, dimensions.height])\n    //     .range((rangeY>breakpoint) ? [-rangeY, rangeY] : [-breakpoint*5, breakpoint*5])\n    //\n    //\n    //   return {\n    //     xInverse, xDrag, yInverse\n    //   };\n    // }\n    const xInverse = (currentScale) => scaleLinear()\n      .domain([0, dimensions.width])\n      .range([currentScale.min, currentScale.max]) //maxRangeX-minRangeX gives section of x values displayed onscreen\n    const xDrag = (currentScale) => scaleLinear()\n      .domain([-dimensions.width, dimensions.width])\n      .range([-(currentScale.domain()[1]-currentScale.domain()[0]), (currentScale.domain()[1]-currentScale.domain()[0])]) //maxRangeX-minRangeX gives section of x values displayed onscreen\n    // const yInverse = scaleLinear()\n    //   .domain([-dimensions.height, dimensions.height])\n    //   .range((rangeY>breakpoint) ? [-rangeY, rangeY] : [-breakpoint*5, breakpoint*5])\n\n\n    //scales values to screen pixels\n    /*\n    {\n      biggie: {\n        ...\n        scale: generateScale()\n      }\n      ...\n    }\n    */\n\n    /*\n    xScale =\n    {\n\n  }\n    */\n\n\n    //TODO: fromEntries & entries not compatible with some older browsers\n    const xScales = Object.fromEntries( //for every scale in scales data, generate an xScale\n      Object.entries(scales.x).map(([key, thisScale]) => [\n        key,\n        {\n          scale: scaleLinear() //scaleLinear takes domain (data values) & maps onto range (screen pixel values)\n            .domain([thisScale.min, thisScale.max])\n            .range([0, dimensions.width]),\n          noBeginning: thisScale.min-0.1*(thisScale.max-thisScale.min),\n          noEnd: thisScale.max+0.1*(thisScale.max-thisScale.min),\n          hasSegments: thisScale.segments.length?true:false,\n          hideLabel: thisScale.hideLabel,\n          yPos: 1-thisScale.yPos,\n          label: `${key} (${thisScale.units})`,\n          tickValues: thisScale.tickValues?thisScale.tickValues:null,\n          scaleInverse: scaleLinear() //for NewInstantForm\n            .domain([0, dimensions.width])\n            .range([thisScale.min, thisScale.max])\n        }\n      ])\n    );\n\n    const xSegments = () => {\n      const segments = [];\n      Object.keys(scales.x).forEach((key, i) => {\n        const thisScale = scales.x[key];\n        // const segments = [];\n        if (!thisScale.segments.length) {\n          return;\n        }\n        thisScale.segments.map(n => {\n          const min = n.min?n.min:thisScale.min; //if segment contains a min, set that as min. otherwise, set scale min as min.\n          const max = n.max?n.max:thisScale.max;\n          // console.log(xScales[i].scale(min));\n          segments.push({\n            scale: key,\n            yPos: 1-thisScale.yPos,\n            proportion: (max-min)/(thisScale.max-thisScale.min),\n            segment: scaleLinear()\n            .domain([min, max])\n            .range([xScales[key].scale(min), xScales[key].scale(max)])\n          })\n        })\n      });\n      return segments;\n    }\n\n\n    /*\n      xScales(generateScales(scaleLinear(scale)))\n      - take xScale and rescale according to transformations (newXScale)\n      - update each array entry's domain with that of newXScale\n    */\n    //if there is a zoom transform, override each xScales.scale with adjusted scale\n    if (currentZoomState) {\n      Object.entries(xScales).forEach(([key,thisScale]) => {\n        const newXScale = currentZoomState.rescaleX(thisScale.scale); //zoom state comes w methods for transformations\n        const newMin = newXScale.domain()[0]\n        const newMax = newXScale.domain()[1];\n\n        //applies zoom transformations to scale + scaleInverse\n        xScales[key].scale = newXScale;\n      });\n\n\n    };\n    // const xScale = scaleLinear()\n    //   .domain([xMin, xMax]) //scaleLinear takes domain (data values) & maps onto range (screen pixel values)\n    //   .range([0, dimensions.width]);\n    const yScale = scaleLinear()\n      //if difference in y vaules greater than 5, resize to min and max\n      // .domain((rangeY>breakpoint) ? [yMin, yMax] : [yMin-breakpoint, yMax+breakpoint])\n      .domain([yMin, yMax])\n      .range([dimensions.height,0]);\n    //inverse scales for drag behavior\n    // const xScaleInverse = scaleLinear()\n    //   .domain([-dimensions.width, dimensions.width])\n    //   .range([-rangeX, rangeX]); //maxRangeX-minRangeX gives section of x values displayed onscreen\n    const yScaleInverse = scaleLinear()\n      .domain([0, dimensions.height])\n      .range([yMin, yMax])\n      // .range((rangeY>breakpoint) ? [yMin, yMax] : [yMin-breakpoint, yMax+breakpoint]);\n    const yScaleInverseDrag = scaleLinear()\n      .domain([dimensions.height, -dimensions.height])\n      .range([-rangeY, rangeY])\n      // .range((rangeY>breakpoint) ? [-rangeY, rangeY] : [-breakpoint*5, breakpoint*5]);\n\n\n    if (Object.entries(zones).length) {\n      svg\n      .selectAll(\".zones\")\n      .data(activeZones)\n      .join(\"rect\")\n      .attr(\"class\", \"zones pointer\")\n      .attr(\"x\", ([, v]) => xScales[v.scale[0]].scale(v.start))\n      // .attr(\"x\", n => generateScales(scales[n.scale]).x(n.start))\n      .attr(\"y\", ([, v]) => yScale(yMax))\n      // .attr(\"y\", ([, v]) => v.yStart ? yScale(v.yStart) : yMin-10) //TODO: if no yStart, minimum y value\n      .attr(\"width\", ([, v]) => xScales[v.scale[0]].scale(v.end) - xScales[v.scale[0]].scale(v.start))\n      .attr(\"height\", ([, v]) => {\n        return (yScale(yMin))\n        // if (v.yStart & v.yEnd) {\n        //   return (yScale(v.yStart)-yScale(v.yEnd))\n        // } else if (v.yStart) {\n        //   return (yScale(v.yStart)-yScale(yMax-10))\n        // } else {\n        //   return (yScale(yMax-10)) //TODO: if no yStart, minimum y value\n        //   // return (yScale(minMax[3])-yScale(minMax[2]))\n        // }\n      })\n      .attr(\"opacity\", ([k, v]) => v.opacity ? v.opacity : 0.5)\n      .attr(\"fill\", ([k, v]) => v.color ? v.color : \"#999\")\n      .attr(\"stroke\", \"black\") //TODO: stroke be different colors\n      .attr(\"stroke-width\", ([k, v]) => v.importance ? v.importance*2 : 0)\n      .on(\"click\", (e, target) => {\n        if (toggle===\"certainty\" || toggle===\"importance\") { //pulls up inflection menu\n          setInflectTarget(target);\n        } else if (toggle!==\"pan\" || toggle!==\"addInstant\"){ //displays zone properties when clicked\n          setInfo(null); //clear InfoBox\n          setInfo({position: [e.x, e.y], target: target, type: \"zone\", dimensions: dimensions});  //TODO: set info to null when clicking same zone again\n        }\n        e.stopPropagation();\n      });\n\n      svg\n        .selectAll(\".zonesLabel\")\n        .data(activeZones)\n        .join(\"text\")\n        .attr(\"class\", \"zonesLabel\")\n        .text(([k,v]) => v.text)\n        .attr(\"opacity\", 0.5)\n        .attr(\"x\", ([, v]) => xScales[v.scale[0]].scale(v.start)+10)\n        .attr(\"y\", yScale(yMax)+30) //.05 above max y\n        .attr(\"text-anchor\", \"bottom\");\n    }\n\n    //---draw bottom axis---//\n\n    xSegments().forEach(n => {\n      //TODO: push all the axis ticks() values into an array\n      // [...new Set(segments)]\n      //draw from there\n      const segment = axisBottom(n.segment)\n      // .ticks(n.proportion<.33?5:null, \"f\");\n      .ticks(null, \"f\")\n      .tickSize(-dimensions.height); //TODO\n\n      svg\n        .append(\"g\")\n        .attr(\"class\", \"remove\")\n        .style(\"transform\", `translateY(${dimensions.height*n.yPos}px)`)\n        .call(segment)\n        .raise()\n        .call(g => g.select(\".domain\") //removes solid black axis bar\n          .remove())\n        .call(g => g.selectAll(\".tick line\") //styles individual ticks\n          .attr(\"stroke-opacity\", 0.25))\n        .call(g => g.selectAll(\".tick text\")\n          .attr(\"y\", 10)\n          .attr(\"opacity\", (d, i) => { //TODO: remove instead of setting opacity to 0\n            if ((n.proportion<.25)&&(i%3)) { //less than 1/4, label every 3 ticks\n              return 0;\n            } else if ((n.proportion<.33)&&(i%2)) { //less than 1/3, label every other tick\n              return 0;\n            } else {\n              return 0.5\n            }\n          })\n        );\n    });\n\n    Object.entries(xScales).forEach(([key,thisScale]) => {\n      const xAxis = axisBottom(thisScale.scale)\n      .tickValues(thisScale.scale.ticks().concat(scales.x[key].min, scales.x[key].max)) //pass in autogenerated tick values + min and max values\n      .tickFormat(format(''))\n      .tickSize(-dimensions.height);\n      // console.log(thisScale.scale.ticks())\n\n      if (!thisScale.hasSegments) {\n        svg\n          .append(\"g\")\n          .attr(\"class\", \"remove\")\n          .style(\"transform\", `translateY(${dimensions.height*thisScale.yPos}px)`)\n          .call(xAxis)\n          .raise()\n          .call(g => g.select(\".domain\") //removes solid black axis bar\n            .remove())\n          .call(g => g.selectAll(\".tick line\") //styles individual ticks\n            .attr(\"stroke-opacity\", 0.25))\n          .call(g => g.selectAll(\".tick text\")\n            .attr(\"y\", 10) //TODO: dynamic tick text spacing for accessibility\n            .attr(\"opacity\", 0.5));\n      }\n      if (!thisScale.hideLabel) {\n        svg\n          .append(\"text\")\n          .text(thisScale.label)\n          .attr(\"class\", \"axisLabel smallTxt remove\")\n          .attr(\"x\", dimensions.width/2)\n          .attr(\"y\", dimensions.height*(thisScale.yPos+.07))\n          .attr(\"text-anchor\", \"middle\")\n          .attr(\"opacity\", 0.5);\n        }\n      }\n    );\n\n    //--draw vertical axis--//\n\n    const yAxis = axisLeft(yScale)\n    .tickValues([...new Set(yTicks), scales.y[activeScale[1]].min, scales.y[activeScale[1]].max]) //reg mode\n    .tickFormat(format(''))\n\n    svg\n      .append(\"g\")\n      .attr(\"class\", \"remove\")\n      // .style(\"transform\", `translateY(${dimensions.height*thisScale.yPos}px)`)\n      .call(yAxis)\n      .raise()\n      .call(g => g.select(\".domain\") //removes solid black axis bar\n        .remove())\n      .call(g => g.selectAll(\".tick line\") //styles individual ticks\n        .attr(\"stroke-opacity\", 0.5))\n      .call(g => g.selectAll(\".tick text\")\n        .attr(\"y\", 10) //TODO: dynamic tick text spacing for accessibility\n        .attr(\"opacity\", 0.5));\n\n    if (!scales.y[activeScale[1]].hideLabels) {\n      svg\n        .append(\"text\")\n        .text(`${activeScale[1]} (${scales.y[activeScale[1]].units})`)\n        .attr(\"class\", \"axisLabel smallTxt remove\")\n        // .attr(\"x\", dimensions.width/2)\n        // .attr(\"y\", dimensions.height/2)\n        .attr(\"text-anchor\", \"middle\")\n        .attr(\"transform\", `translate(-30,${dimensions.height/2})rotate(-90)`)\n        .attr(\"opacity\", 0.5);\n    }\n\n    //--drag behavior--//\n    const dragged = drag()\n      // .on(\"start\", e => {\n      //   select(this).attr(\"stroke\", \"black\");\n      // })\n      .on(\"drag\", e => {\n        //TODO: extract precision function to round new pos\n        const dx = xDrag(xScales[e.subject[1].scale[0]].scale)(e.dx);\n        // const dx = xScales.scaleInverse\n        const dy = yScaleInverseDrag(e.dy);\n        const newInstants = {...data}; //always make a copy when updating array\n\n        //find array element in data with matching ID and set new x y coordinates\n        newInstants[e.subject[0]].x += dx;\n        newInstants[e.subject[0]].y += dy;\n\n        setData(newInstants);\n      }) //TODO: unify onEnd and onClick\n      .on(\"end\", e => {\n        console.log(\"end\");\n      });\n\n    if (activeData.length) {\n      //---draw intervals---//\n      const intervaler = linkHorizontal()\n        .source(interval => interval.source[1])\n        .target(interval => interval.target[1])\n        // .x(n => generateScales(scales[n.scale]).x(logic ? logicScale(n.x) : n.x))\n        .x(v => {\n            const thisScale = xScales[v.scale[0]]\n            if (!isNaN(v.x)) {\n              return thisScale.scale(v.x)\n            } else if (v.x===\"noEnd\") {\n              return thisScale.scale(thisScale.noEnd)\n            } else if (v.x===\"noBeginning\") {\n              return thisScale.scale(thisScale.noBeginning)\n            }\n        })\n        .y(v => yScale(v.y));\n\n      svg\n        .selectAll(\".interval\")\n        .data(intervals)\n        .join(\"path\")\n        .raise()\n        .attr(\"class\", \"interval pointer\")\n        .attr(\"d\", intervaler)\n        .attr(\"fill\", \"none\")\n        .attr(\"stroke\", n => n.color? n.color : \"black\")\n        .attr(\"stroke-width\", n => n.width ? n.width : radius)\n        .attr(\"stroke-opacity\", n => n.opacity ? n.opacity : 1)\n        .attr(\"stroke-dasharray\", n => n.dashed ? n.dashed : null)\n        .on(\"click\", (e, target) => {\n          if (toggle===\"connection\") {\n            const newOrder = [...syntacticOrder];\n            if (newOrder[2]===0) { //set 2nd selection\n              newOrder[1] = {x:xInverse(scales.x[activeScale[0]])(e.layerX), y:yScaleInverse(e.layerY), scale:activeScale}; //scale TODO\n              newOrder[2] = 1;\n            } else { //set 1st selection\n              newOrder[0] = {x:xInverse(scales.x[activeScale[0]])(e.layerX), y:yScaleInverse(e.layerY), scale:activeScale};\n              newOrder[2] = 0;\n            }\n            setSyntacticOrder(newOrder);\n          }\n          //else if (toggle===\"foreshadowing\") {\n          //   if (!target.target) { //if target is an endpoint, indeterminate end\n          //\n          //\n          //   } else { //otherwise, change mouse to no symbol\n          //\n          //   }\n          //   //option to adjust gradient eventually\n          // } else\n          else if (toggle===\"certainty\" || toggle===\"importance\") {\n            setInflectTarget(target);\n          } else {\n            setInfo(null); //clear InfoBox\n            setInfo({position: [e.x, e.y], target: target, type: \"interval\", dimensions: dimensions}); //displays interval properties when clicked\n          }\n          e.stopPropagation();\n        });\n\n\n\n      //---draw instants---//\n      svg\n        .selectAll(\".instant\")\n        // .data(activeData.filter(d => !d.foreshadowing && !d.cancelled))\n        .data(activeData)\n        .join(\"circle\")\n        .raise()\n        .attr(\"class\", \"instant pointer\")\n        .attr(\"r\", ([,v]) => v.radius? v.radius : radius) //TODO: custom radius accessibility\n        .attr(\"fill\", ([,v]) => v.color ? v.color : \"black\") //if it has a color other than black, use that\n        .attr(\"opacity\", ([,v]) => v.opacity ? v.opacity : 1)\n        // .attr(\"cx\", d => generateScales(scales[d.scale]).x(logic ? logicScale(d.x) : d.x))\n        .attr(\"cx\", ([,v]) => {\n          const thisScale = xScales[v.scale[0]];\n          /*\n          noBeginning: thisScale.min-10,\n          noEnd: thisScale.max+10,\n          */\n          if (!isNaN(v.x)) {\n            return thisScale.scale(v.x)\n          } else if (v.x===\"noBeginning\"){\n            return thisScale.scale(thisScale.noBeginning)\n          } else if (v.x===\"noEnd\") {\n            return thisScale.scale(thisScale.noEnd)\n          }\n        }) //scale x coordinate based on xScale defined in instant's scale property\n        .attr(\"cy\", ([,v]) => yScale(v.y))\n        .call(dragged)\n        .on(\"click\", (e, target) => {\n          switch (toggle) {\n            case \"cancelled\":\n              const newData = {...data};\n              newData[target[0]].cancelled = true;\n              // console.log(newData[target[0]]);\n              updateSrc(newData);\n              break;\n            case \"connection\":\n              const newOrder = [...syntacticOrder];\n              if (newOrder[2]===0) { //set 2nd selection\n                newOrder[1] = target;\n                newOrder[2] = 1;\n              } else { //set 1st selection\n                newOrder[0] = target;\n                newOrder[2] = 0;\n              }\n              setSyntacticOrder(newOrder);\n              break;\n            case \"foreshadowing\":\n              if (!target.target) { //if target is an endpoint, indeterminate end\n                const newInstants = [...data];\n                const instant = newInstants.find(n => n.id === target.id);\n                instant.foreshadowing = true;\n                setData(newInstants);\n              } else { //otherwise, change mouse to no symbol\n                console.log(\"forbidden\");\n              }\n              break;\n            case \"certainty\":\n              setInflectTarget(target);\n              break;\n            case \"importance\":\n              setInflectTarget(target);\n              break;\n            default:\n              setInfo(null); //clear InfoBox\n              setInfo({position: [e.x, e.y], target: target, dimensions: dimensions}); //displays instant properties when clicked\n          }\n          // if (toggle===\"cancelled\") {\n          //   const newInstants = [...data];\n          //   const instant = newInstants.find(n => n.id === target.id);\n          //   instant.cancelled = true;\n          //   setData(newInstants);\n          // } else if (){\n          //\n          // } else if (toggle===\"connection\") {\n          //   const newOrder = [...syntacticOrder];\n          //   if (newOrder[2]===0) { //set 2nd selection\n          //     newOrder[1] = target;\n          //     newOrder[2] = 1;\n          //   } else { //set 1st selection\n          //     newOrder[0] = target;\n          //     newOrder[2] = 0;\n          //   }\n          //   setSyntacticOrder(newOrder);\n          // } else if (toggle===\"foreshadowing\") { //todo: adjust gradient\n          //   if (!target.target) { //if target is an endpoint, indeterminate end\n          //     const newInstants = [...data];\n          //     const instant = newInstants.find(n => n.id === target.id);\n          //     instant.foreshadowing = true;\n          //     setData(newInstants);\n          //   } else { //otherwise, change mouse to no symbol\n          //     console.log(\"forbidden\");\n          //   }\n          // } else if (toggle===\"certainty\" || toggle===\"importance\"){\n          //   setInflectTarget(target);\n          // } else {\n          //   setInfo({position: [e.x, e.y], target: target}); //displays instant properties when clicked\n          // }\n          e.stopPropagation(); //stops deselect when bg is clicked\n        });\n\n      /*//---draw inflections---//\n\n      //--draw connetion inflection--//\n      //circle around instant\n      svg\n        .selectAll(\".connections\")\n        .data(activeData.filter(d => d.connections))\n        .join(\"circle\")\n        .raise()\n        .attr(\"class\", \"connections pointer\")\n        .attr(\"r\", n => n.radius? n.radius*1.5 : radius*2) //TODO: custom radius accessibility\n        .attr(\"fill\", \"none\")\n        .attr(\"stroke\", \"black\")\n        .attr(\"stroke-dasharray\", \"3\")\n        // .attr(\"opacity\", d => d.opacity ? d.opacity : 1)\n        .attr(\"cx\", d => xScales[d.scale].scale(d.x)) //scale x coordinate based on xScale defined in instant's scale property\n        .attr(\"cy\", d => yScale(d.y));\n\n      //link connecting circles\n      const ctLinker = linkHorizontal()\n        .source(instant => data.find(x => x.id === instant.id))\n        .target(instant => typeof(instant.connections[0])===\"object\" ? instant.connections[0] : data.find(x => x.id === instant.connections[0]))\n        // .target(() => {\n        //   //layerX, layerY\n        //   const y = yScaleInverse(499);\n        //   const x = xScales.find(n => n.text === \"biggie\").scaleInverse(778)\n        //   return {x: x, y: y}\n        // })\n        // .target(instant => data.find(x => x.id === instant.connections[0]))\n        .x(d => d.scale ? xScales[d.scale].scale(d.x) : d.x)\n        .y(d => d.scale ? yScale(d.y) : d.y);\n      svg\n        .selectAll(\".connectionLinks\")\n        .data(activeData.filter(n => n.connections && !n.connections[1])) //link starts from 1st one\n        .join(\"path\")\n        .raise()\n        .attr(\"class\", \"connectionLinks pointer\")\n        .attr(\"d\", ctLinker)\n        .attr(\"fill\", \"none\")\n        .attr(\"stroke\", \"black\")\n        // .attr(\"stroke\", n => n.color? n.color : \"black\")\n        // .attr(\"stroke-opacity\", n => n.opacity ? n.opacity : 1)\n        .attr(\"stroke-dasharray\", \"3\")\n*/\n      //initialize custom symbols\n      const cancelledSymbol = {\n        draw: (context, size) => {\n          let s = Math.sqrt(size)/2;\n              context.moveTo(s,0);\n              context.lineTo(s*2,s);\n              context.lineTo(s,s*2);\n              context.lineTo(0,s);\n              context.lineTo(-s,s*2);\n              context.lineTo(-s*2,s);\n              context.lineTo(-s,0);\n              context.lineTo(-s*2,-s);\n              context.lineTo(-s,-s*2);\n              context.lineTo(0,-s);\n              context.lineTo(s,-s*2);\n              context.lineTo(s*2,-s);\n              context.closePath();\n        }\n      };\n      /*\n      //foreshadowing symbol\n      const fsSymbol = {\n        draw: (context, size) => {\n          let s = size;\n              context.moveTo(0,0);\n              context.lineTo(s*2,s/2);\n              context.lineTo(s*2,-s/2);\n              context.closePath();\n        }\n      };\n      //foreshadowing gradient\n      var fsg = svg.append(\"defs\").append(\"linearGradient\")\n      .attr(\"id\", \"fsgradient\")//id of the gradient\n      .attr(\"x1\", \"0%\")\n      .attr(\"x2\", \"100%\") //since its a horizontal linear gradient\n      .attr(\"y1\", \"0%\")\n      .attr(\"y2\", \"0%\");\n\n      fsg.append(\"stop\")\n      .attr(\"offset\", \"0%\")\n      .style(\"stop-color\", \"black\")//start in black. TODO: different color foreshadowing\n      .style(\"stop-opacity\", 1);\n\n      fsg.append(\"stop\")\n      .attr(\"offset\", \"100%\")\n      .style(\"stop-color\", \"black\")//end in transparent\n      .style(\"stop-opacity\", 0);\n*/\n      //---draw symbols---//\n      //TODO: doesn't display if cancelled is true from the start\n      // .attr(\"cx\", ([,v]) => xScales[v.scale[0]].scale(v.x)) //scale x coordinate based on xScale defined in instant's scale property\n      // .attr(\"cy\", ([,v]) => yScale(v.y))\n      svg\n        .selectAll(\".cancelled\")\n        .data(activeData.filter(([,v]) => v.cancelled))\n        .join(\"path\")\n        .raise()\n        .attr(\"class\", \"cancelled pointer\")\n        .attr(\"d\", symbol(cancelledSymbol, radius*radius*5))\n        .attr(\"fill\", ([,v]) => v.color ? v.color : \"black\") //if it has a color other than black, use that\n        .attr(\"transform\", ([,v]) => `translate(${xScales[v.scale[0]].scale(v.x)}, ${yScale(v.y)})`)\n        .on(\"click\", (e, target) => {\n          if (toggle===\"cancelled\") {\n            const newData = {...data};\n            newData[target[0]].cancelled = false;\n            updateSrc(newData);\n          } else {\n            setInfo({position: [e.x, e.y], target: target}); //displays instant properties when clicked\n          }\n          e.stopPropagation();\n        });\n/*\n      //---draw foreshadowing---//\n      svg\n        .selectAll(\".foreshadowing\")\n        .data(activeData.filter(d => d.foreshadowing))\n        .join(\"path\")\n        .raise()\n        .attr(\"class\", \"foreshadowing pointer\")\n        .attr(\"d\", symbol(fsSymbol, radius*radius*5))\n        .style(\"fill\", \"url(#fsgradient)\")\n        .attr(\"transform\", d => `translate(${xScales[d.scale].scale(d.x)}, ${yScale(d.y)})`)\n        .on(\"click\", (e, target) => {\n          if (toggle===\"foreshadowing\") {\n            const newInstants = [...data];\n            const instant = newInstants.find(n => n.id === target.id);\n            delete instant.foreshadowing;\n            setData(newInstants);\n          } else {\n            setInfo({position: [e.x, e.y], target: target}); //displays instant properties when clicked\n          }\n          setToggle(null);\n          e.stopPropagation();\n        });\n*/\n      //---draw labels---//\n      // svg\n      //   .selectAll(\".zonesLabel\")\n      //   .data(zones)\n      //   .join(\"text\")\n      //   .attr(\"class\", \"zonesLabel\")\n      //   .text(v => v.text)\n      //   .attr(\"x\", v => xScales[v.scale].scale(v.start))\n      //   .attr(\"y\", v => yScale(v.yStart?v.yStart:yMin+5))\n      //   .attr(\"text-anchor\", \"middle\");\n\n      svg\n        .selectAll(\".label\")\n        .data(activeData.filter(([,v]) => !isNaN(v.x)))\n        .join(\"text\")\n        .attr(\"class\", \"label\")\n        .text(([k,v]) => showLabel ? v.text : v.id)\n        .attr(\"x\", ([k,v]) => xScales[v.scale[0]].scale(v.x))\n        .attr(\"y\", ([k,v]) => yScale(v.y-0.05*rangeY)) //vertical offset. see scales\n        .attr(\"text-anchor\", \"middle\");\n        // .attr(\"font-size\", fontSize);\n\n      svg\n        .selectAll(\".intervalLabel\")\n        .data(intervals)\n        .join(\"text\")\n        .attr(\"class\", \"intervalLabel\")\n        .text(v => v.text)\n        .attr(\"x\", v => {\n          const source=v.source[1];\n          const target=v.target[1];\n          const thisSourceScale = xScales[source.scale[0]];\n          const thisTargetScale = xScales[target.scale[0]];\n          if (!isNaN(source.x) && !isNaN( target.x)) {\n            //scale values, then average them\n            return (thisSourceScale.scale(source.x)+thisTargetScale.scale(target.x))/2\n          } else if (isNaN(source.x)) { //if source is no end/beginning\n            //noEnd or noBeginning?\n            const s = source.x===\"noBeginning\"?thisSourceScale.scale(thisSourceScale.noBeginning):thisSourceScale.scale(thisSourceScale.noEnd)\n            return (s+thisTargetScale.scale(target.x))/2\n          } else if (isNaN(target.x)) { //if target is no end/beginning\n            const s = target.x===\"noBeginning\"?thisTargetScale.scale(thisTargetScale.noBeginning):thisTargetScale.scale(thisTargetScale.noEnd)\n            return (s+thisSourceScale.scale(source.x))/2\n          }\n        })\n        .attr(\"y\", v => yScale(Math.max(v.source[1].y, v.target[1].y)+0.05*rangeY)) //.05 above max y\n        .attr(\"text-anchor\", \"middle\");\n\n    }\n\n\n\n    //---zoom---//\n    const zoomBehavior = zoom()\n      .scaleExtent([1, 5]) //can zoom 2x smaller and 5x bigger\n      .translateExtent([[-50, 0], [dimensions.width+50, dimensions.height]]) //limits how far graph can pan\n      .on(\"zoom\", e => {\n        const zoomState = e.transform; //returns zoom transformations as an object\n        setCurrentZoomState(zoomState);\n      });\n\n    //regular clicking\n    svg.on(\"click\", (e) => {\n      if (toggle===\"addInstant\") {\n        /*\n        if range of zoom > 10, Math.round(x)\n        if range of zoom <= 10 (floor: 10^0, ceiling: 10^1), use tenths (/10 -> /10^1)\n        if range of zoom <= 1 (floor: 10^-1, ceiling: 10^0), use hudredths (/100 -> (10^2))\n        if range of zoom <= .1 (floor: 10^-2, ceiling: 10^-1), use thousandths (/1000 -> (10^-3), etc.\n        const decimal = scales[activeScale]\n        xScales[key].scale\n        const decimal = scales[activeScale]\n        */\n        //TODO: zoom range matches up with current zoom\n        const zoomRange = xScales[activeScale[0]].scale.domain()[1] - xScales[activeScale[0]].scale.domain()[0]; //max-min\n        // const precision = Math.log10(zoomRange)<1 ? -(Math.floor(Math.log10(zoomRange)-1)) : 0;\n        const x = xScales[activeScale[0]].scale.invert(e.layerX);\n        const y = yScale.invert(e.layerY);\n        // console.log(Math.round(x*Math.pow(10, precision))/ Math.pow(10, precision));\n        setInflectTarget({x: round(x, zoomRange), y: Math.round(y)});\n        setToggle(\"NewInstantForm\");\n      }\n      setInfo(null)\n    });\n    svg.call(zoomBehavior);\n\n  }, [data, setData, zones, activeZones, scales, toggle, activeLayer, activeData, dimensions, logic, currentZoomState, setInfo, radius, showLabel, syntacticOrder]);\n\n  return (\n    <div ref={wrapperRef} className=\"svgWrapper\">\n      <svg id=\"graphic\" ref={svgRef}>\n      </svg>\n    </div>\n  );\n};\n\n\nexport default Graphic;\n","const Image = (props) => {\n  //will have to change css so position is defined by React\n  return (\n    <img src={`/library/${props.urls}`} alt=\"schema-1\"/>\n  )\n};\n\nexport default Image;\n","const InputFormScale = ({scales, label, name, value, onChange}) => {\n  const list = Object.keys(scales).map((key, i) => {\n    return <option value={key} key={i}>{key}</option>\n  });\n\n  return (\n    <label className=\"textSecondary\">\n      {label}<span className=\"redText\">* </span>\n      <select name={name} value={value} onChange={onChange}>\n        {list}\n      </select>\n    </label>\n  )\n};\n\nexport default InputFormScale;\n","const InputFormText = ({label, name, placeholder, value, onChange, required}) => {\n  return (\n    <label className=\"textSecondary\">\n      {label} {required && <span className=\"redText\">* </span>}\n      <input type=\"text\"\n        placeholder={placeholder?placeholder:\"any unicode characters\"}\n        name={name}\n        value={value}\n        onChange={onChange}\n        required={required}\n      />\n    </label>\n  );\n}\n\nexport default InputFormText;\n","const InputFormNum = ({label, name, value, placeholder, onChange, required}) => {\n  return (\n    <label className=\"textSecondary\">\n      {label} {required && <span className=\"redText\">* </span>}\n      <input type=\"number\"\n        placeholder={placeholder?placeholder:\"integer or decimal\"}\n        name={name}\n        value={value}\n        onChange={onChange}\n        required={required}\n      />\n    </label>\n  );\n}\n\nexport default InputFormNum;\n","import React from 'react';\nimport InputFormScale from './InputFormScale';\nimport InputFormText from './InputFormText';\nimport InputFormNum from './InputFormNum';\n\n/*\n   UI and function for adding new points.\n*/\n\nclass NewInstantForm extends React.Component {\n  //controlled component, meaning React is the \"single source of truth\"\n  constructor(props) {\n    super(props);\n    this.state = {\n      label: '',\n      xValue: props.target?props.target.x:'', //\"target\" is scaled mouse click coordinates. Graphics.js addInstant\n      yValue: props.target?props.target.y:'',\n      xScale: props.activeScale[0],\n      yScale: props.activeScale[1],\n      color: '',\n      opacity: '',\n      radius: ''\n    };\n\n    this.handleChange = this.handleChange.bind(this);\n    this.handleClose = this.handleClose.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n\n  }\n\n  handleChange(e) {\n    console.log(e)\n    const value = e.target.value;\n    const name = e.target.name;\n    this.setState({\n      [name]: value\n    });\n  }\n\n  handleClose(e) {\n    this.props.setToggle(null);\n    e.preventDefault();\n  }\n\n  handleSubmit(e) { //consider turning into useCallback\n    e.preventDefault();\n    const newData = {...this.props.data};\n    const lastKey = Object.keys(newData).pop() ? parseInt(Object.keys(newData).pop()) : -1;\n    const lastInstant = newData[lastKey]; //last instant of data\n\n    const tempx = parseFloat(this.state.xValue);\n    //if y pos specified, convert to float. otherwise, return null\n    const tempy = this.state.yValue ? parseFloat(this.state.yValue) : null;\n\n    //error handling. btw, isNan(null) === false\n    if (isNaN(tempx) && isNaN(tempy)) {\n      alert(\"Make sure Time and y Position are numbers!\");\n    } else if (isNaN(tempx)) {\n      alert(\"Make sure Time is a number!\");\n    } else if (isNaN(tempy)) {\n      alert(\"Make sure y Position is a number!\");\n    } else {\n      //generate instant\n      newData[`${lastKey+1}`] = {\n        \"x\":tempx,\n        \"y\": this.state.yValue ? tempy : ( lastInstant ? lastInstant.y : 0 ), // if y not specified, take value of last instant\n        \"scale\": [this.state.xScale,this.state.yScale],\n        \"target\": null,\n        \"text\": this.state.label,\n        ...(this.state.color && {\"color\": this.state.color}), //if color is specified, create color entry in data\n        ...(this.state.radius && {\"radius\": this.state.radius}),\n        ...(this.state.opacity && {\"opacity\": this.state.opacity})\n      };\n    };\n\n    //order of parameters is important\n    this.props.updateSrc(newData);\n\n  }\n\n  render() {\n\n    return (\n      <form className=\"ui absolute center container\">\n        <InputFormText\n          label=\"Label\"\n          name=\"label\"\n          onChange={this.handleChange}\n          value={this.state.label}\n        />\n        <InputFormScale\n          scales={this.props.scales.x}\n          label=\"X Scale\"\n          name=\"xScale\"\n          value={this.state.xScale}\n          onChange={this.handleChange}\n        />\n        <InputFormNum\n          label=\"Time\"\n          name=\"xValue\"\n          placeholder=\"numbers only for now\"\n          value={this.state.xValue}\n          onChange={this.handleChange}\n          required\n        />\n        <InputFormScale\n          scales={this.props.scales.y}\n          label=\"Y Scale\"\n          name=\"yScale\"\n          value={this.state.yScale}\n          onChange={this.handleChange}\n        />\n        <InputFormNum\n          label=\"Y Value\"\n          name=\"yValue\"\n          placeholder=\"numbers only for now\"\n          value={this.state.yValue}\n          onChange={this.handleChange}\n          required\n        />\n        <InputFormText\n          label=\"Color\"\n          name=\"color\"\n          placeholder=\"blue, #4DA6FF, etc.\"\n          value={this.state.color}\n          onChange={this.handleChange}\n        />\n        <InputFormNum\n          label=\"Certainty\"\n          name=\"opacity\"\n          placeholder=\"0 to 1 (default 1)\"\n          value={this.state.opacity}\n          onChange={this.handleChange}\n        />\n        <InputFormNum\n          label=\"Radius\"\n          name=\"radius\"\n          placeholder=\"(default 5)\"\n          value={this.state.radius}\n          onChange={this.handleChange}\n        />\n        <br/>\n        <div className=\"flexCenter\">\n          <button className=\"buttonSecondary\" onClick={this.handleClose}>Cancel</button> &nbsp;\n          <button className=\"buttonSecondary\" onClick={this.handleSubmit}>Submit</button>\n        </div>\n      </form>\n    );\n  }\n};\n\nexport default NewInstantForm;\n","import React, { useState } from 'react';\nimport InputFormScale from './InputFormScale';\nimport InputFormText from './InputFormText';\nimport InputFormNum from './InputFormNum';\n\nfunction NewIntervalForm({data, updateSrc, setToggle, scales, activeScale, history, setHistory}) {\n\n  const [values, setValues] = useState({\n    text: '',\n    xValue1:'',\n    yValue1:'',\n    xValue2:'',\n    yValue2:'',\n    xScale:activeScale[0],\n    yScale:activeScale[1],\n    color:'',\n    opacity:'',\n    width:''\n  });\n\n  // const [text, setText] = useState(\"\");\n  // const [xValue1, setXValue1] = useState(\"\");\n  // const [yValue1, setYValue1] = useState(\"\");\n  // const [xValue2, setXValue2] = useState(\"\");\n  // const [yValue2, setYValue2] = useState(\"\");\n  // const [select, setSelect] = useState(activeScale);\n  // // const scalesList = Object.keys(scales).map((key, i) => {\n  // //   return <option value={key} key={i}>{key}</option>\n  // // });\n  // //optional parameters\n  // const [color, setColor] = useState(\"\");\n  // const [opacity, setOpacity] = useState(\"\");\n  // const [width, setWidth] = useState(\"\");\n  // const [dashed, setDashed] = useState(\"\");\n\n  const handleChange = (e) => {\n    e.preventDefault();\n    //checkbox is being weird (value updates 1 render behind), setting its values directly\n    const { value, name } = e.target;\n    setValues({\n      ...values,\n      [name]: value,\n    });\n  }\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    const newData = {...data};\n    const lastKey = Object.keys(newData).pop() ? parseInt(Object.keys(newData).pop()) : -1;\n    const lastInstant = newData[lastKey]; //last instant of data\n\n    const tempX1 = parseFloat(values.xValue1);\n    const tempY1 = values.yValue1 ? parseFloat(values.yValue1) : null; //if y pos specified, convert to float. otherwise, return null\n    const tempX2 = parseFloat(values.xValue2);\n    const tempY2 = values.yValue2 ? parseFloat(values.yValue2) : null;\n\n    //error handling. btw, isNan(null) === false\n    if (isNaN(tempX1)) {\n      alert(\"Enter a value for Start Time!\");\n      return;\n    } else if (isNaN(tempY1)) {\n      alert(\"Enter a value for Start Y Value!\");\n      return;\n    } else if (isNaN(tempX2)) {\n      alert(\"Enter a value for End Time!\");\n      return;\n    } else if (isNaN(tempY2)) {\n      alert(\"Enter a value for End Y Value!\");\n      return;\n    } else {\n      //generate first instant\n      newData[`${lastKey+1}`] = {\n        \"text\": \"\",\n        \"x\":tempX1,\n        \"y\": values.yValue1 ? tempY1 : ( lastInstant ? lastInstant.y : 0 ), // if y not specified, take value of last instant\n        \"scale\": [values.xScale, values.yScale],\n        \"target\": [`${lastKey+2}`],\n        ...(values.text && {\"intervalText\": values.text}),\n        ...(values.color && {\"intervalColor\": values.color, \"color\":values.color}),\n        ...(values.width && {\"intervalWidth\": values.width}),\n        ...(values.opacity && {\"intervalOpacity\": values.opacity, \"opacity\":values.opacity})\n      };\n      //generate second instant\n      newData[`${lastKey+2}`] = {\n        \"text\": \"\",\n        \"x\":tempX2,\n        \"y\": values.yValue2 ? tempY2 : ( lastInstant ? lastInstant.y : 0 ), // if y not specified, take value of last instant\n        \"scale\": [values.xScale, values.yScale],\n        \"target\": null,\n        ...(values.color && {\"color\":values.color}),\n        ...(values.opacity && {\"opacity\":values.opacity})\n      };\n    };\n\n    updateSrc(newData);\n  };\n\n  const handleClose = (e) => {\n    setToggle(null);\n    e.preventDefault();\n  }\n\n/*\n<label>\n  Dashed\n  <input\n    type=\"text\"\n    placeholder=\"i.e: 5\"\n    value={dashed}\n    onChange={handleChange}\n  />\n</label><br/><br/>\n*/\n  return (\n    <form className=\"ui absolute center container\">\n      <InputFormText\n        label=\"Label\"\n        name=\"text\"\n        onChange={handleChange}\n        value={values.text}\n      />\n      <InputFormScale\n        scales={scales.x}\n        label=\"X Scale\"\n        name=\"xSelect\"\n        value={values.xSelect}\n        onChange={handleChange}\n      />\n      <InputFormScale\n        scales={scales.y}\n        label=\"Y Scale\"\n        name=\"ySelect\"\n        value={values.ySelect}\n        onChange={handleChange}\n      /><br/>\n      <span className=\"textSecondary bold\">Start:</span>\n      <InputFormNum\n        label=\"Time\"\n        name=\"xValue1\"\n        placeholder=\"numbers only for now\"\n        value={values.xValue1}\n        onChange={handleChange}\n        required\n      />\n      <InputFormNum\n        label=\"Y Value\"\n        name=\"yValue1\"\n        placeholder=\"numbers only for now\"\n        value={values.yValue1}\n        onChange={handleChange}\n        required\n      /><br/>\n      <span className=\"textSecondary bold\">End:</span>\n      <InputFormNum\n        label=\"Time\"\n        name=\"xValue2\"\n        placeholder=\"numbers only for now\"\n        value={values.xValue2}\n        onChange={handleChange}\n        required\n      />\n      <InputFormNum\n        label=\"Y Value\"\n        placeholder=\"numbers only for now\"\n        name=\"yValue2\"\n        value={values.yValue2}\n        onChange={handleChange}\n        required\n      /><br/>\n      <span className=\"textSecondary bold\">Properties:</span>\n      <InputFormText\n        label=\"Color\"\n        name=\"color\"\n        placeholder=\"blue, #4DA6FF, etc.\"\n        value={values.color}\n        onChange={handleChange}\n      />\n      <InputFormNum\n        label=\"Certainty\"\n        name=\"opacity\"\n        placeholder=\"0 to 1 (default 1)\"\n        value={values.opacity}\n        onChange={handleChange}\n      />\n      <InputFormNum\n        label=\"Width\"\n        name=\"width\"\n        placeholder=\"(default 3)\"\n        value={values.width}\n        onChange={handleChange}\n      /><br/>\n      <div className=\"flexCenter\">\n        <button className=\"buttonSecondary\" onClick={handleClose}>Cancel</button> &nbsp;\n        <button className=\"buttonSecondary\" onClick={handleSubmit}>Submit</button>\n      </div>\n    </form>\n  )\n}\n\nexport default NewIntervalForm;\n","import React, { useState } from 'react';\nimport InputFormScale from './InputFormScale';\nimport InputFormText from './InputFormText';\nimport InputFormNum from './InputFormNum';\n\n/*\n   UI and function for adding new zones.\n*/\n\nfunction NewZoneForm({zones, updateSrc, setToggle, scales, activeScale}) {\n  const [values, setValues] = useState({\n    text: '',\n    xScale:activeScale[0],\n    yScale:activeScale[1],\n    start:'',\n    end:'',\n    yValue2:'',\n    yStart:'',\n    yEnd:'',\n    color:'',\n    opacity:''\n  });\n\n  const [label, setLabel] = useState(\"\");\n  const [start, setStart] = useState(\"\");\n  const [end, setEnd] = useState(\"\");\n  const [select, setSelect] = useState(activeScale);\n  //go thru list of scales in ChronoJSON and create a selection entry for each\n  const scalesList = Object.keys(scales).map((key, i) => {\n    return <option value={key} key={i}>{key}</option>\n  });\n  //optional parameters\n  const [yStart, setYStart] = useState(\"\");\n  const [yEnd, setYEnd] = useState(\"\");\n  const [color, setColor] = useState(\"\");\n  const [opacity, setOpacity] = useState(\"\");\n\n  const handleChange = (e) => {\n    e.preventDefault();\n    //checkbox is being weird (value updates 1 render behind), setting its values directly\n    const { value, name } = e.target;\n    setValues({\n      ...values,\n      [name]: value,\n    });\n  }\n\n  const handleSubmit = (e) => {\n    const newZones = {...zones};\n    const lastKey = Object.keys(newZones).pop() ? parseInt(Object.keys(newZones).pop()) : -1;\n\n    //generate new zone\n    newZones[`${lastKey+1}`] = {\n      \"text\": values.text,\n      \"start\": parseFloat(values.start), //cases where start > end?\n      \"end\": parseFloat(values.end),\n      \"scale\": [values.xScale, values.yScale],\n      ...(values.yStart && {\"yStart\": values.yStart}),\n      ...(values.yEnd && {\"yEnd\": values.yEnd}),\n      ...(values.color && {\"color\": values.color}),\n      ...(values.opacity && {\"opacity\": values.opacity})\n    }\n\n    updateSrc(newZones,\"zones\");\n    e.preventDefault();\n  };\n\n  const handleClose = (e) => {\n    setToggle(null);\n    e.preventDefault();\n  }\n\n  return (\n    <form className=\"ui absolute center container\">\n\n      <InputFormText\n        label=\"Label\"\n        name=\"text\"\n        onChange={handleChange}\n        value={values.text}\n        required\n      />\n      <InputFormScale\n        scales={scales.x}\n        label=\"X Scale\"\n        name=\"xScale\"\n        value={values.xScale}\n        onChange={handleChange}\n      />\n      <InputFormScale\n        scales={scales.y}\n        label=\"Y Scale\"\n        name=\"yScale\"\n        value={values.yScale}\n        onChange={handleChange}\n      />\n      <InputFormNum\n        label=\"Time Start\"\n        placeholder=\"numbers only for now\"\n        name=\"start\"\n        value={values.start}\n        onChange={handleChange}\n        required\n      />\n      <InputFormNum\n        label=\"Time End\"\n        placeholder=\"numbers only for now\"\n        name=\"end\"\n        value={values.end}\n        onChange={handleChange}\n        required\n      />\n      {/*<label>\n        Y Start\n        <input\n          type=\"text\"\n          name=\"yStart\"\n          placeholder=\"#s, dates, logical operators\"\n          value={values.yStart}\n          onChange={handleChange}\n        />\n      </label>\n      <label>\n        Y End\n        <input\n          type=\"text\"\n          name=\"yEnd\"\n          placeholder=\"#s, dates, logical operators\"\n          value={values.yEnd}\n          onChange={handleChange}\n        />\n      </label>*/}\n      <InputFormText\n        label=\"Color\"\n        name=\"color\"\n        placeholder=\"blue, #4DA6FF, etc.\"\n        value={values.color}\n        onChange={handleChange}\n      />\n      <InputFormNum\n        label=\"Certainty\"\n        name=\"opacity\"\n        placeholder=\"0 to 1 (default 1)\"\n        value={values.opacity}\n        onChange={handleChange}\n      /><br/>\n      <div className=\"flexCenter\">\n        <button className=\"buttonSecondary\" onClick={handleClose}>Cancel</button> &nbsp;\n        <button className=\"buttonSecondary\" onClick={handleSubmit}>Submit</button>\n      </div>\n    </form>\n  )\n};\n\nexport default NewZoneForm;\n","import React, { useState } from 'react';\nimport InputFormText from './InputFormText';\nimport InputFormNum from './InputFormNum';\n\n/*\n   UI and function for adding new scales.\n   Eventually split into 2 different components: NewXScaleForm and NewYScaleForm\n*/\n\n\nfunction NewScaleForm({src, updateSrc, setToggle, setActiveScale}) {\n\n  //values for form, mutable by onChange\n  const [values, setValues] = useState({\n    //for x scale\n    xName:\"\",\n    xMin:\"\",\n    xMax:\"\",\n    xUnits:\"\",\n    xYPos:\"\",\n    xTickValues:\"\",\n    xHideUnits:false,\n    xSegmentsNum:0,\n    //for y scale\n    yName:\"\",\n    yMin:\"\",\n    yMax:\"\",\n    yUnits:\"\",\n    yPercent:\"\",\n    yHideUnits:false\n  });\n\n  const handleChange = (e) => {\n    e.preventDefault();\n    //checkbox is being weird (value updates 1 render behind), setting its values directly\n    const { value, name } = e.target;\n    setValues({\n      ...values,\n      [name]: value,\n    });\n  }\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    const newScales = {...src.scales};\n\n    const tempxMin = parseFloat(values.xMin);\n    const tempxMax = parseFloat(values.xMax);\n    const tempYPos = parseFloat(values.xYPos); //for x scale\n    const tempyMin = parseFloat(values.yMin);\n    const tempyMax = parseFloat(values.yMax);\n\n    //error handling\n    if (isNaN(tempxMin) || isNaN(tempxMax) || isNaN(tempyMin) || isNaN(tempyMax)) {\n      alert(\"Make sure all required fields are filled in!\");\n      return;\n    } else if (tempYPos>1 || tempYPos<0) {\n      alert(\"Vertical position must be between 0 (bottom of the screen) and 1 (top of the screen).\")\n      return;\n    } else if (tempxMin>=tempxMax) {\n      alert(\"Minimum x Value must be less than or equal to Maximum x Value!\");\n      return;\n    } else if (tempyMin>=tempyMax) {\n      alert(\"Minimum y Value must be less than or equal to Maximum y Value!\");\n      return;\n    } else if (tempYPos>1) {\n      alert(\"Vertical Position must be between 0 (top) and 1 (bottom)!\");\n      return;\n    } //else if (scale name already exists) {\n    //\n    // };\n\n    //generate new x scale\n    newScales.x[values.xName] = {\n      \"min\": tempxMin,\n      \"max\": tempxMax,\n      \"units\": values.xUnits,\n      \"yPos\": tempYPos?tempYPos:0,\n      // \"hideUnits\":values.xHideUnits,\n      \"segments\": [] //todo\n    }\n    newScales.y[values.yName] = {\n      \"min\": tempyMin,\n      \"max\": tempyMax,\n      \"units\": values.yUnits,\n      ...(values.yPercent && {\"percent\": values.yPercent})\n      // \"hideUnits\":values.yHideUnits,\n    }\n\n    // console.log(newScales)\n    updateSrc(newScales, \"scales\");\n    setActiveScale([values.xName, values.yName]); //move to updateSrc\n    setToggle(null);\n  };\n\n  const handleClose = (e) => {\n    setToggle(null);\n    e.preventDefault();\n  }\n\n  /*\n  <label className=\"textSecondary\">\n    Hide Label\n    <input type=\"checkbox\"\n      name=\"xHideUnits\"\n      value={values.xHideUnits}\n      onChange={(e) => setValues({...values, xHideUnits:e.target.checked})}\n    />\n  </label>\n  <label className=\"textSecondary\">\n    Segments\n    <input\n      type=\"number\"\n      placeholder=\"granularities within scale\"\n      name=\"xSegmentsNum\"\n      value={values.xSegmentsNum}\n      onChange={handleChange}\n    />\n  </label><br/>\n  */\n  return (\n    <form className=\"ui absolute center container\">\n      <span className=\"textSecondary\"><b>x scale</b></span><br/>\n      <InputFormText\n        label=\"Name\"\n        name=\"xName\"\n        value={values.xName}\n        onChange={handleChange}\n        required={true}\n      />\n      <InputFormText\n        label=\"Units Label\"\n        name=\"xUnits\"\n        placeholder=\"ie: Years\"\n        value={values.xUnits}\n        onChange={handleChange}\n        required={true}\n      />\n      <InputFormNum\n        label=\"Minimum Value\"\n        name=\"xMin\"\n        placeholder=\"#s for now\"\n        value={values.xMin}\n        onChange={handleChange}\n        required={true}\n      />\n      <InputFormNum\n        label=\"Maximum Value\"\n        name=\"xMax\"\n        placeholder=\"#s for now\"\n        value={values.xMax}\n        onChange={handleChange}\n        required={true}\n      />\n      <InputFormNum\n        label=\"Vertical Position\"\n        name=\"xYPos\"\n        placeholder=\"0 (bottom) to 1 (top)\"\n        value={values.xYPos}\n        onChange={handleChange}\n      /><br/>\n      <span className=\"textSecondary\"><b>y scale</b></span><br/>\n      <InputFormText\n        label=\"Name\"\n        name=\"yName\"\n        value={values.yName}\n        onChange={handleChange}\n        required={true}\n      />\n      <InputFormText\n        label=\"Units Label\"\n        name=\"yUnits\"\n        placeholder=\"ie: Years\"\n        value={values.yUnits}\n        onChange={handleChange}\n        required={true}\n      />\n      <InputFormNum\n        label=\"Minimum Value\"\n        name=\"yMin\"\n        placeholder=\"#s for now\"\n        value={values.yMin}\n        onChange={handleChange}\n        required={true}\n      />\n      <InputFormNum\n        label=\"Maximum Value\"\n        name=\"yMax\"\n        placeholder=\"#s for now\"\n        value={values.yMax}\n        onChange={handleChange}\n        required={true}\n      />\n      <br/>\n      <div className=\"flexCenter\">\n        <button className=\"buttonSecondary\" onClick={handleClose}>Cancel</button> &nbsp;\n        <button className=\"buttonSecondary\" onClick={handleSubmit}>Submit</button>\n      </div>\n    </form>\n  )\n};\n\nexport default NewScaleForm;\n","import React, { useState } from 'react';\nimport InputFormScale from './InputFormScale';\nimport InputFormText from './InputFormText';\nimport InputFormNum from './InputFormNum';\n\n/*\n   UI and function for adding new zones.\n*/\n\nfunction EditScaleForm({scales, updateSrc, setToggle, activeScale, setActiveScale}) {\n  const xScale = scales.x[activeScale[0]];\n  const yScale = scales.y[activeScale[1]];\n\n  const [values, setValues] = useState({\n    //for x scale\n    xSelect:activeScale[0],\n    xMin:xScale.min,\n    xMax:xScale.max,\n    xUnits:xScale.units,\n    xYPos:xScale.yPos,\n    xTickValues:xScale.tickValues,\n    xHideUnits:xScale.hideUnits,\n    xSegmentsNum:xScale.segments.length,\n    //for y scale\n    ySelect:activeScale[1],\n    yMin:yScale.min,\n    yMax:yScale.max,\n    yUnits:yScale.units,\n    yPercent:yScale.percent,\n    yHideUnits:yScale.hideUnits\n  });\n\n\n  //go thru list of scales in ChronoJSON and create a selection entry for each\n  // const scalesList = Object.keys(scales.x).map((key, i) => {\n  //   return <option value={key} key={i}>{key}</option>\n  // });\n  // const [min, setMin] = useState();\n  // const [max, setMax] = useState();\n  // const [units, setUnits] = useState();\n  // const [yPos, setYPos] = useState();\n  // //optional parameters\n  // const [segmentsNum, setSegmentNum] = useState([]);\n\n  const handleChange = (e) => {\n    e.preventDefault();\n    //checkbox is being weird (value updates 1 render behind), setting its values directly\n    const { value, name } = e.target;\n    setValues({\n      ...values,\n      [name]: value,\n    });\n  }\n\n  const handleSelectScale = (e, props) => {\n    e.preventDefault();\n    const newActiveScale = [...activeScale]\n    const { value, name } = e.target;\n    if (name===\"xSelect\") {\n      newActiveScale[0] = value\n    } else {\n      newActiveScale[1] = value\n    }\n\n    setActiveScale(newActiveScale)\n  }\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    const newScales = {...scales};\n\n    const tempxMin = parseFloat(values.xMin);\n    const tempxMax = parseFloat(values.xMax);\n    const tempYPos = parseFloat(values.xYPos); //for x scale\n    const tempyMin = parseFloat(values.yMin);\n    const tempyMax = parseFloat(values.yMax);\n\n    //error handling\n    if (isNaN(tempxMin) || isNaN(tempxMax) || isNaN(tempyMin) || isNaN(tempyMax)) {\n      alert(\"Make sure all required fields are filled in!\");\n      return;\n    } else if (tempYPos>1 || tempYPos<0) {\n      alert(\"Vertical position must be between 0 (bottom of the screen) and 1 (top of the screen).\")\n      return;\n    } else if (tempxMin>=tempxMax) {\n      alert(\"Minimum x Value must be less than or equal to Maximum x Value!\");\n      return;\n    } else if (tempyMin>=tempyMax) {\n      alert(\"Minimum y Value must be less than or equal to Maximum y Value!\");\n      return;\n    } else if (tempYPos>1) {\n      alert(\"Vertical Position must be between 0 (top) and 1 (bottom)!\");\n      return;\n    }\n\n    //update existing scale\n    newScales.x[values.xSelect] = {\n      \"min\": tempxMin,\n      \"max\": tempxMax,\n      \"units\": values.xUnits,\n      \"yPos\": tempYPos,\n      \"segments\": [...newScales.x[values.xSelect].segments] //todo\n    }\n\n    newScales.y[values.ySelect] = {\n      \"min\": tempyMin,\n      \"max\": tempyMax,\n      \"units\": values.yUnits,\n      ...(values.yPercent && {\"percent\": values.yPercent})\n    }\n\n    updateSrc(newScales, \"scales\");\n    setActiveScale([values.xSelect, values.ySelect]); //move to updateSrc\n    setToggle(null);\n  };\n\n  const handleClose = (e) => {\n    setToggle(null);\n    e.preventDefault();\n  }\n\n/*\n<label className=\"textSecondary\">\n  Segments\n  <input\n    type=\"number\"\n    placeholder=\"granularities within scale\"\n    name=\"xSegmentsNum\"\n    value={values.xSegmentsNum}\n    onChange={handleChange}\n  />\n</label><br/>\n*/\n  return (\n    <form className=\"ui absolute center container\">\n      <InputFormScale\n        scales={scales.x}\n        label=\"X Scale\"\n        name=\"xSelect\"\n        value={activeScale[0]}\n        onChange={handleSelectScale}\n      />\n      <InputFormNum\n        label=\"Minimum Value\"\n        name=\"xMin\"\n        placeholder=\"#s for now\"\n        value={values.xMin}\n        onChange={handleChange}\n        required={true}\n      />\n      <InputFormNum\n        label=\"Maximum Value\"\n        name=\"xMax\"\n        placeholder=\"#s for now\"\n        value={values.xMax}\n        onChange={handleChange}\n        required={true}\n      />\n      <InputFormNum\n        label=\"Vertical Position\"\n        name=\"xYPos\"\n        placeholder=\"0 (bottom) to 1 (top)\"\n        value={values.xYPos}\n        onChange={handleChange}\n      />\n      <InputFormText\n        label=\"Units Label\"\n        name=\"xUnits\"\n        placeholder=\"ie: Years\"\n        value={values.xUnits}\n        onChange={handleChange}\n        required={true}\n      /><br/>\n      <InputFormScale\n        scales={scales.y}\n        label=\"Y Scale\"\n        name=\"ySelect\"\n        value={values.ySelect}\n        onChange={handleChange}\n      />\n      <InputFormNum\n        label=\"Minimum Value\"\n        name=\"yMin\"\n        placeholder=\"#s for now\"\n        value={values.yMin}\n        onChange={handleChange}\n        required={true}\n      />\n      <InputFormNum\n        label=\"Maximum Value\"\n        name=\"yMax\"\n        placeholder=\"#s for now\"\n        value={values.yMax}\n        onChange={handleChange}\n        required={true}\n      />\n      <InputFormText\n        label=\"Units Label\"\n        name=\"yUnits\"\n        placeholder=\"ie: Years\"\n        value={values.yUnits}\n        onChange={handleChange}\n        required={true}\n      /><br/>\n      <div className=\"flexCenter\">\n        <button className=\"buttonSecondary\" onClick={handleClose}>Cancel</button> &nbsp;\n        <button className=\"buttonSecondary\" onClick={handleSubmit}>Submit</button>\n      </div>\n    </form>\n  )\n};\n\nexport default EditScaleForm;\n","/*\n  - delete an individual instant\n*/\n\nfunction deleteInstant(target, data, updateSrc) {\n  const newData = {...data};\n  // const dataKeys = Object.entries(newData).map(([k,v]) => k);\n  const dataValues = Object.entries(newData).map(([k,v]) => v);\n\n  //comb thru data and delete all references to deleted instant\n  dataValues.forEach(v => {\n    if (!v.target || !v.target.includes(target[0])) {\n      return;\n    } else { //if v.target includes key\n      if (v.target.length > 1) { //if multiple, delete only key\n        v.target = v.target.filter((x) => x !== target[0]);\n      } else { //if key is the only target, set to null\n        v.target = null;\n      }\n    }\n  });\n\n  delete newData[target[0]];\n  updateSrc(newData);\n};\n\nexport default deleteInstant;\n","/*\n  - delete an individual instant\n*/\n\nfunction deleteInterval(target, data, updateSrc) {\n  const newData = {...data};\n  const srcKey = target.source[0];\n  const targetKey = target.target[0];\n  const dataValues = Object.entries(newData).map(([k,v]) => v);\n\n  //comb thru data and delete all references to deleted instant\n  dataValues.forEach(v => {\n    if (!v.target) {\n      return;\n    } else if (!v.target.includes(srcKey) && !v.target.includes(targetKey)) {\n      return;\n    } else { //if v.target includes key\n      if (v.target.length > 1) { //if multiple, delete only key\n        v.target = v.target.filter((x) => (x !== srcKey) && (x !== targetKey));\n      } else { //if key is the only target, set to null\n        v.target = null;\n      }\n    }\n  });\n\n  delete newData[srcKey];\n  delete newData[targetKey];\n  updateSrc(newData);\n};\n\nexport default deleteInterval;\n","var _g;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgEdit(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 17.54 17.54\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Layer_2\",\n    \"data-name\": \"Layer 2\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"working_layer\",\n    \"data-name\": \"working layer\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M17.4,3.06,14.48.15a.5.5,0,0,0-.71,0L1.14,12.78A.48.48,0,0,0,1,13L0,16.92a.48.48,0,0,0,.13.48.5.5,0,0,0,.35.14H.62l3.92-1a.59.59,0,0,0,.23-.13L17.4,3.77a.5.5,0,0,0,.14-.35A.52.52,0,0,0,17.4,3.06ZM4.16,15.6l-3,.75.76-3L12.47,2.86l2.21,2.21ZM15.39,4.36,13.18,2.15l1-.94,2.21,2.21Z\"\n  })))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgEdit);\nexport default __webpack_public_path__ + \"static/media/edit.da55abfe.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useState } from 'react';\nimport { ReactComponent as IconEdit } from '../assets/icons/edit.svg';\n\nfunction EditForm(props) {\n\n  return (\n    props.editMode ?\n      <input\n        name={props.name}\n        type={props.inputType}\n        placeholder={props.placeholder}\n        value={props.value}\n        onChange={(e) => props.handleChange(e)}\n        required={props.required}\n      />\n    : props.value ?\n      <>{props.value}</>\n    : <span className=\"textSecondary\">{props.nullValue}</span>\n  )\n};\n\nexport default EditForm;\n","import deleteInstant from \"./deleteInstant\";\nimport deleteInterval from \"./deleteInterval\";\nimport EditForm from \"./EditForm\";\nimport React, { useState } from 'react';\n\n/*\n  - pass object info and mouseclick position to component\n  - component is a div set at mouseclick position and displays object info as text\n*/\n\nfunction InfoBox({info, setInfo, history, setHistory, data, zones, updateSrc, radius}) {\n  //init\n  var content = null;\n  const target = Array.isArray(info.target)?info.target[1]:info.target;\n\n  //get standard document dimensions accross browsers\n  const body = document.body;\n  const html = document.documentElement;\n  const docuHeight = Math.max( body.scrollHeight, body.offsetHeight,\n                       html.clientHeight, html.scrollHeight, html.offsetHeight );\n  const docuWidth = Math.max( body.scrollWidth, body.offsetWidth,\n                        html.clientWidth, html.scrollWidth, html.offsetWidth );\n\n  //Positions\n  const infoPos = {}\n  const halfWidth = info.dimensions.width/2;\n  const halfHeight = info.dimensions.height/2;\n  if (info.position[0]>halfWidth) {\n    infoPos[\"right\"] = docuWidth-info.position[0]+'px';\n  } else {\n    infoPos[\"left\"] = info.position[0]+'px';\n  }\n  if (info.position[1]>halfHeight) {\n    infoPos[\"bottom\"] = docuHeight-info.position[1]+'px';\n  } else {\n    infoPos[\"top\"] = info.position[1]+'px';\n  }\n\n  // const infoXPos = (info.position[0]<halfWidth)?{right: info.position[0]+'px'}:{left: info.position[0]+'px'};\n  // const infoYPos = (info.position[1]<halfHeight)?{bottom: info.position[1]+'px'}:{top: info.position[1]+'px'};\n  // const infoPos = {\n  //   ...(info.position[0] && {})\n  // }\n  /*\n    - structure of instant targets:\n      {\n        \"text\": \"Lorem\",\n        \"x\": 1620,\n        \"y\": 15,\n        \"target\": [\n            \"1\"\n        ],\n        \"color\": \"#4DA6FF\",\n        \"opacity\": 0.5,\n        \"radius\": 8,\n        \"intervalText\": \"evolution of terrestrial vegetation\",\n        \"intervalColor\": \"red\",\n        \"intervalWidth\": 5,\n        \"intervalOpacity\": 0.8,\n        \"intervalDashed\": \"5 2\",\n        \"layer\": 1,\n        \"scale\": \"smalls\"\n      }\n    - structure of interval targets:\n      {\n        \"source\": [\n            \"0\",\n            {\n                \"text\": \"Lorem\",\n                \"x\": 1620,\n                \"y\": 15,\n                .\n                .\n                .\n            }\n        ],\n        \"target\": [\n            \"1\",\n            {\n                \"text\": \"Ipsum\",\n                \"x\": 1623,\n                \"y\": 15,\n                .\n                .\n                .\n            }\n        ],\n        \"text\": \"evolution of terrestrial vegetation\",\n        \"color\": \"red\",\n        \"width\": 5,\n        \"opacity\": 0.8,\n        \"dashed\": \"5 2\"\n      }\n    - structure of zone targets:\n      {\n        \"id\": 1,\n        \"text\": \"zone2\",\n        \"start\": 1623,\n        \"end\": 1630,\n        \"yStart\": 10,\n        \"yEnd\": 30,\n        \"color\": \"green\",\n        \"opacity\": 0.25,\n        \"scale\": \"smalls\",\n        \"importance\": 2\n      }\n  */\n\n  //states\n  const [editMode, setEditMode] = useState(false);\n\n  //values directly from data, immutable by onChange\n  const dataValues = {\n    //instant specific\n    time: target.x,\n    yPos: target.y,\n    radius: target.radius,\n    //interval specific\n    sourceX: target.source?target.source[1].x:null,\n    sourceY: target.source?target.source[1].y:null,\n    targetX: target.source?target.target[1].x:null, //target.target for both instant and interval, but target.source interval only\n    targetY: target.source?target.target[1].y:null,\n    //zone specific\n    timeStart: target.start,\n    timeEnd: target.end,\n    yStart: target.yStart,\n    yEnd: target.yEnd,\n    //all\n    text: target.text,\n    color: target.color,\n    opacity: target.opacity,\n    width: target.width,\n    importance: target.importance\n  };\n\n  //turn null values into empty string for controlled input forms\n  Object.entries(dataValues).forEach((k) => {\n    if (!k[1]) { //check for null value\n      dataValues[k[0]] = \"\";\n    }\n  });\n\n  //values for input forms, mutable\n  const [values, setValues] = useState(dataValues);\n\n  const handleChange = (e) => {\n    e.preventDefault();\n    const { value, name } = e.target;\n    setValues({\n      ...values,\n      [name]: value,\n    });\n  }\n\n  const handleCancel = (e) => {\n    e.preventDefault();\n    //reset all values to json data version\n    setValues(dataValues);\n    setEditMode(false);\n  }\n\n  const handleSubmitInstant = (e) => {\n    e.preventDefault();\n    const newData = {...data};\n    const xyArray = [values.time, values.yPos];\n\n    //error handling\n    const xyNums = xyArray.map ( n => {\n        if (isNaN(parseFloat(n))) {\n            alert(\"Please input valid times and/or Y positions!\");\n            return;\n        } else {\n          return parseFloat(n);\n        }\n      }\n    );\n\n    newData[info.target[0]] = {\n      ...newData[info.target[0]],\n      \"x\": xyNums[0],\n      \"y\": xyNums[1],\n      \"text\": values.text,\n      \"color\": values.color, //if color is specified, create color entry in data\n      \"radius\": values.radius,\n      \"opacity\": values.opacity,\n      \"importance\": values.importance\n    };\n\n    updateSrc(newData);\n    setEditMode(false);\n    setInfo(null);\n  }\n\n  const handleSubmitInterval = (e) => {\n    e.preventDefault();\n    const newData = {...data};\n    const xyArray = [values.sourceX, values.sourceY, values.targetX, values.targetY];\n\n    //error handling\n    const xyNums = xyArray.map ( n => {\n        if (isNaN(parseFloat(n))) {\n            alert(\"Please input valid times and/or Y positions!\");\n            return;\n        } else {\n          return parseFloat(n);\n        }\n      });\n\n    const node = newData[target.source[0]];\n    node.x = xyNums[0];\n    node.y = xyNums[1];\n    newData[target.target[0]].x = xyNums[2];\n    newData[target.target[0]].y = xyNums[3];\n    node.intervalColor = values.color;\n    node.intervalWidth = values.width;\n    node.intervalOpacity = values.opacity;\n    node.intervalText = values.text;\n\n    updateSrc(newData);\n    setEditMode(false);\n    setInfo(null);\n  }\n\n  const handleSubmitZone = (e) => {\n    e.preventDefault();\n\n    const newZones = {...zones};\n    const xyArray = [values.timeStart, values.timeEnd];\n    // const xyArray = [values.timeStart, values.timeEnd, values.yStart, values.yEnd];\n\n    //error handling\n    const xyNums = xyArray.map ( n => {\n        if (isNaN(parseFloat(n))) {\n            alert(\"Please input valid times and/or Y positions!\");\n            return;\n        } else {\n          return parseFloat(n);\n        }\n    });\n\n\n    newZones[info.target[0]] = {\n      ...newZones[info.target[0]],\n      \"start\": xyNums[0],\n      \"end\": xyNums[1],\n      \"yStart\": xyNums[2],\n      \"yEnd\": xyNums[3],\n      \"text\": values.text,\n      \"color\": values.color,\n      \"opacity\": values.opacity,\n      \"importance\": values.importance\n    };\n\nconsole.log(newZones[info.target[0]]);\n\n    updateSrc(newZones, \"zones\");\n    setEditMode(false);\n    setInfo(null);\n  }\n\n  const handleDeleteInterval = (e) => {\n    e.preventDefault();\n    deleteInterval(target, data, updateSrc);\n    setInfo(null);\n  }\n\n  const handleDeleteInstant = (e) => {\n    e.preventDefault();\n    deleteInstant(info.target, data, updateSrc);\n    setInfo(null);\n  }\n\n  const handleDeleteZone = (e) => {\n    e.preventDefault();\n    const newZones = {...zones};\n    delete newZones[info.target[0]];\n    updateSrc(newZones, \"zones\");\n    setInfo(null);\n  }\n\n  switch (info.type) {\n    case 'interval':\n      content =\n        <form className=\"container\">\n          <div className=\"container flexRow\">\n            <div className=\"containerLeft textRight textSecondary\">\n              Text: &nbsp;<br/>\n              From: &nbsp;<br/>\n              To: &nbsp;<br/>\n              Color: &nbsp;<br/>\n              Opacity: &nbsp;<br/>\n              Importance: &nbsp;<br/>\n              Width: &nbsp;\n            </div>\n            <div className=\"containerRight\">\n              <EditForm name=\"text\" value={values.text} nullValue={\"n/a\"} inputType=\"text\" placeholder=\"any unicode character\" editMode={editMode} handleChange={handleChange} /><br/>\n              <EditForm name=\"sourceX\" value={values.sourceX} nullValue={\"n/a\"} inputType=\"text\" placeholder=\"numbers for now\" editMode={editMode} handleChange={handleChange}/>,&nbsp;\n              <EditForm name=\"sourceY\" value={values.sourceY} nullValue={\"n/a\"} inputType=\"text\" placeholder=\"numbers for now\" editMode={editMode} handleChange={handleChange}/><br/>\n              <EditForm name=\"targetX\" value={values.targetX} nullValue={\"n/a\"} inputType=\"text\" placeholder=\"numbers for now\" editMode={editMode} handleChange={handleChange}/>,&nbsp;\n              <EditForm name=\"targetY\" value={values.targetY} nullValue={\"n/a\"} inputType=\"text\" placeholder=\"numbers for now\" editMode={editMode} handleChange={handleChange}/><br/>\n              <EditForm name=\"color\" value={values.color} nullValue={\"black\"} inputType=\"text\" placeholder=\"blue, #4DA6FF, etc.\" editMode={editMode} handleChange={handleChange} /><br/>\n              <EditForm name=\"opacity\" value={values.opacity} nullValue={\"1\"} inputType=\"text\" placeholder=\"0(clear) - 1(opaque)\" editMode={editMode} handleChange={handleChange} /><br/>\n              <EditForm name=\"importance\" value={values.importance} nullValue={\"0\"} inputType=\"text\" placeholder=\"any integer\" editMode={editMode} handleChange={handleChange} /><br/>\n              <EditForm name=\"width\" value={values.width} nullValue={`${radius}`} inputType=\"text\" placeholder=\"any real number\" editMode={editMode} handleChange={handleChange} /><br/>\n            </div>\n          </div>\n          <div className=\"flexCenter\">\n            {editMode ?\n              <><button className=\"buttonSecondary\" onClick={handleCancel}>Cancel</button> &nbsp;\n              <button className=\"buttonSecondary\" onClick={handleSubmitInterval}>Submit</button></>\n            : <><button className=\"buttonSecondary\" onClick={(e) => {e.preventDefault();setEditMode(true)}}>Edit</button> &nbsp;\n              <button className=\"buttonSecondary\" onClick={handleDeleteInterval}>Delete Interval</button></>\n            }\n          </div>\n        </form>\n    break\n    case 'zone':\n      content =\n        <form className=\"container\">\n          <div className=\"container flexRow\">\n            <div className=\"containerLeft textRight textSecondary\">\n              Text: &nbsp;<br/>\n              Time Start: &nbsp;<br/>\n              Time End: &nbsp;<br/>\n              {/*Y Start: &nbsp;<br/>\n              Y End: &nbsp;<br/>*/}\n              Color: &nbsp;<br/>\n              Opacity: &nbsp;<br/>\n              Importance: &nbsp;\n            </div>\n            <div className=\"containerRight\">\n              <EditForm name=\"text\" value={values.text} nullValue={\"n/a\"} inputType=\"text\" placeholder=\"any unicode character\" editMode={editMode} handleChange={handleChange} /><br/>\n              <EditForm name=\"timeStart\" value={values.timeStart} nullValue={\"n/a\"} inputType=\"text\" placeholder=\"numbers for now\" editMode={editMode} handleChange={handleChange}/><br/>\n              <EditForm name=\"timeEnd\" value={values.timeEnd} nullValue={\"n/a\"} inputType=\"text\" placeholder=\"numbers for now\" editMode={editMode} handleChange={handleChange}/><br/>\n              {/*<EditForm name=\"yStart\" value={values.yStart} nullValue={\"n/a\"} inputType=\"text\" placeholder=\"numbers for now\" editMode={editMode} handleChange={handleChange}/><br/>\n              <EditForm name=\"yEnd\" value={values.yEnd} nullValue={\"n/a\"} inputType=\"text\" placeholder=\"numbers for now\" editMode={editMode} handleChange={handleChange}/><br/>*/}\n              <EditForm name=\"color\" value={values.color} nullValue={\"black\"} inputType=\"text\" placeholder=\"blue, #4DA6FF, etc.\" editMode={editMode} handleChange={handleChange} /><br/>\n              <EditForm name=\"opacity\" value={values.opacity} nullValue={\"1\"} inputType=\"text\" placeholder=\"0(clear) - 1(opaque)\" editMode={editMode} handleChange={handleChange} /><br/>\n              <EditForm name=\"importance\" value={values.importance} nullValue={\"0\"} inputType=\"text\" placeholder=\"any integer\" editMode={editMode} handleChange={handleChange} /><br/>\n            </div>\n          </div>\n          <div className=\"flexCenter\">\n            {editMode ?\n              <><button className=\"buttonSecondary\" onClick={handleCancel}>Cancel</button> &nbsp;\n              <button className=\"buttonSecondary\" onClick={handleSubmitZone}>Submit</button></>\n            : <><button className=\"buttonSecondary\" onClick={(e) => {e.preventDefault();setEditMode(true)}}>Edit</button> &nbsp;\n              <button className=\"buttonSecondary\" onClick={handleDeleteZone}>Delete Zone</button></>\n            }\n          </div>\n        </form>\n    break\n    default:\n      content =\n        <form className=\"container\">\n          <div className=\"container flexRow\">\n            <div className=\"containerLeft textRight textSecondary\">\n              Text: &nbsp;<br/>\n              Time: &nbsp;<br/>\n              Y Position: &nbsp;<br/>\n              Color: &nbsp;<br/>\n              Opacity: &nbsp;<br/>\n              Radius: &nbsp;<br/>\n              Importance: &nbsp;<br/>\n            </div>\n            <div className=\"containerRight\">\n              <EditForm name=\"text\" value={values.text} nullValue={\"n/a\"} inputType=\"text\" placeholder=\"any unicode character.\" editMode={editMode} handleChange={handleChange} /><br/>\n              <EditForm name=\"time\" value={values.time} nullValue={\"n/a\"} inputType=\"text\" placeholder=\"numbers for now\" editMode={editMode} handleChange={handleChange}/><br/>\n              <EditForm name=\"yPos\" value={values.yPos} nullValue={\"n/a\"} inputType=\"text\" placeholder=\"numbers for now\" editMode={editMode} handleChange={handleChange} /><br/>\n              <EditForm name=\"color\" value={values.color} nullValue={\"black\"} inputType=\"text\" placeholder=\"blue, #4DA6FF, etc.\" editMode={editMode} handleChange={handleChange} /><br/>\n              <EditForm name=\"opacity\" value={values.opacity} nullValue={\"1\"} inputType=\"text\" placeholder=\"0(clear) - 1(opaque)\" editMode={editMode} handleChange={handleChange} /><br/>\n              <EditForm name=\"radius\" value={values.radius} nullValue={`${radius}`} inputType=\"text\" placeholder=\"any real number\" editMode={editMode} handleChange={handleChange} /><br/>\n              <EditForm name=\"importance\" value={values.importance} nullValue={\"0\"} inputType=\"text\" placeholder=\"any integer\" editMode={editMode} handleChange={handleChange} /><br/>\n            </div>\n          </div>\n          <div className=\"flexCenter\">\n            {editMode ?\n              <><button className=\"buttonSecondary\" onClick={handleCancel}>Cancel</button> &nbsp;\n              <button className=\"buttonSecondary\" onClick={handleSubmitInstant}>Submit</button></>\n            : <><button className=\"buttonSecondary\" onClick={(e) => {e.preventDefault();setEditMode(true)}}>Edit</button> &nbsp;\n              <button className=\"buttonSecondary\" onClick={handleDeleteInstant}>Delete Instant</button></>\n            }\n          </div>\n        </form>\n  };\n\n  return (\n    <div className=\"ui absolute\" style={infoPos}>\n      {content}\n    </div>\n  );\n}\n\nexport default InfoBox;\n","import React, { useState } from 'react';\n\n/*\n  For saving and downloading JSON data onto computer.\n*/\n\nfunction ExportDataForm({src, setSrc, zones, scales, data, activeData, setToggle, fileName}) {\n  const [name, setName] = useState(fileName);\n\n  const handleSave = (e) => {\n    e.preventDefault();\n    //syncs changes in nodes data with src\n    const newSrc = {...src};\n    newSrc.instants[activeData] = data; //TODO: update src every time change activeData\n    newSrc.zones = zones;\n    newSrc.scales = scales;\n    setSrc(newSrc);\n    \n    //saves synced src as a file\n    const fileData = JSON.stringify(newSrc);\n    const blob = new Blob([fileData], {type: \"text/plain\"});\n    const url = URL.createObjectURL(blob);\n    const link = document.createElement('a');\n    link.download = `${name}.json`;\n    link.href = url;\n    link.click();\n  };\n\n  const handleClose = (e) => {\n    e.preventDefault();\n    setToggle(null);\n\n  }\n\n  return (\n    <form className=\"ui absolute center\" onSubmit={handleSave}>\n      <button className=\"right\" onClick={handleClose}>x</button><br/>\n      <label>\n        File Name <span className=\"redText\">* </span>:\n        <input\n          type=\"text\"\n          value={name}\n          onChange={(e) => setName(e.target.value)}\n          required\n        />\n      </label><br/><br/>\n      <input type=\"submit\" value=\"Save Data\"/>\n    </form>\n  );\n}\n\nexport default ExportDataForm;\n","import React, { useState } from 'react';\n\n/*\n  For saving and downloading JSON data onto computer.\n*/\n\nfunction ImportDataForm({setToggle, updateSrc, setFileName, setProj}) {\n  const [selectedFile, setSelectedFile] = useState();\n\tconst [isSelected, setIsSelected] = useState(false);\n\n\tconst handleChange = (e) => {\n\t\tsetSelectedFile(e.target.files[0]);\n\t\tsetIsSelected(true);\n    e.preventDefault();\n\t};\n\n\tconst handleSubmit = (e) => {\n    e.preventDefault();\n\n    if (!selectedFile) {\n      alert(\"Please select a file!\");\n      return;\n    }\n    let fileReader = new FileReader();\n    fileReader.readAsText(selectedFile);\n    fileReader.onload = () => {\n      const newSrc = JSON.parse(fileReader.result);\n      //add different cases for JSON and img\n      setFileName(selectedFile.name.replace(\".json\", \"\")); //chop off .json extension from name\n      // console.log(newSrc);\n      updateSrc(newSrc, \"import\")\n      // setSrc(newSrc);\n      // setScales(newSrc.scales);\n      // setActiveScale([Object.keys(newSrc.scales.x)[0],Object.keys(newSrc.scales.y)[0]]);\n      // setActiveData(0);\n      // setData(newSrc.instants[activeData]);\n      // setZones(newSrc.zones);\n    }\n    fileReader.onerror = () => {\n      console.log(fileReader.error);\n    }\n    setProj(true);\n    setToggle(null);\n\n\t};\n\n  const handleClose = (e) => {\n    setToggle(null);\n    e.preventDefault();\n  }\n\n  return (\n    <form\n      className=\"ui absolute center\"\n      onSubmit={handleSubmit}\n    >\n      <button className=\"right uiButton closeButton\" onClick={handleClose}>x</button><br/>\n      <input type=\"file\" name=\"data\" onChange={handleChange} /><br/>\n\t\t\t{isSelected ? (\n\t\t\t\t<p>\n\t\t\t\t\tFile name: {selectedFile.name}<br/>\n\t\t\t\t\tFile type: {selectedFile.type}<br/>\n\t\t\t\t\tSize: {selectedFile.size/1000} KB\n\t\t\t\t</p>\n\t\t\t) : (\n\t\t\t\t<p>Select a file to show details</p>\n\t\t\t)}\n\t\t\t<input className=\"uiButton\" type=\"submit\" value=\"Upload\"/>\n    </form>\n  );\n}\n\nexport default ImportDataForm;\n","var _defs, _g;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgFile(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 42.91 42.91\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"style\", null, \".cls-1{fill:none;}\"))), _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Layer_2\",\n    \"data-name\": \"Layer 2\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"export\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    className: \"cls-1\",\n    width: 42.91,\n    height: 42.91\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M28.46,31.33h-14a1,1,0,0,1-1-1V12.59a1,1,0,0,1,1-1h8.3l.12,0h0a1,1,0,0,1,.45.28h0l5.87,6.55h0a1.1,1.1,0,0,1,.23.44h0s0,.09,0,.14h0V30.33A1,1,0,0,1,28.46,31.33Zm-13-2h12V20.14H22.58a1,1,0,0,1-1-1V13.59H15.45Zm8.13-11.19h2.64L23.58,15.2Z\"\n  })))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgFile);\nexport default __webpack_public_path__ + \"static/media/file.88f2208b.svg\";\nexport { ForwardRef as ReactComponent };","var _defs, _g;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgInstant(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 42.91 42.91\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"style\", null, \".cls-1{fill:none;}\"))), _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Layer_2\",\n    \"data-name\": \"Layer 2\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"export\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    className: \"cls-1\",\n    width: 42.91,\n    height: 42.91\n  }), /*#__PURE__*/React.createElement(\"circle\", {\n    cx: 21.46,\n    cy: 21.46,\n    r: 2.97\n  })))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgInstant);\nexport default __webpack_public_path__ + \"static/media/instant.f426ea0a.svg\";\nexport { ForwardRef as ReactComponent };","var _defs, _g;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgInterval(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 42.91 42.91\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"style\", null, \".cls-1{fill:none;}\"))), _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Layer_2\",\n    \"data-name\": \"Layer 2\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"export\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    className: \"cls-1\",\n    width: 42.91,\n    height: 42.91\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M31.88,22.46H11a1,1,0,0,1,0-2H31.88a1,1,0,1,1,0,2Z\"\n  })))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgInterval);\nexport default __webpack_public_path__ + \"static/media/interval.4fc48755.svg\";\nexport { ForwardRef as ReactComponent };","var _defs, _g;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgZone(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 42.91 42.91\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"style\", null, \".cls-1{fill:none;}\"))), _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Layer_2\",\n    \"data-name\": \"Layer 2\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"export\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    className: \"cls-1\",\n    width: 42.91,\n    height: 42.91\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M32.75,11.83H10.17a1,1,0,0,0-1,1V30.08a1,1,0,0,0,1,1H32.75a1,1,0,0,0,1-1V12.83A1,1,0,0,0,32.75,11.83Zm-7,17.25,6-7v2.57L28,29.08Zm-4.85,0L31.75,16.49v2.56l-8.63,10Zm-4.84,0L29.19,13.83h2.2L18.28,29.08Zm-4.84,0L24.35,13.83h2.2L13.43,29.08Zm5.63-15.25-5.69,6.63V17.9l3.49-4.07Zm-5.69,9.7,8.33-9.7h2.21L11.17,26.09Zm.85-9.7-.85,1v-1ZM30.6,29.08l1.15-1.34v1.34Z\"\n  })))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgZone);\nexport default __webpack_public_path__ + \"static/media/zone.c8425191.svg\";\nexport { ForwardRef as ReactComponent };","var _defs, _g;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgMenu(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 42.91 42.91\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"style\", null, \".cls-1{fill:none;}\"))), _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Layer_2\",\n    \"data-name\": \"Layer 2\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"export\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    className: \"cls-1\",\n    width: 42.91,\n    height: 42.91\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M14.27,16.77H28.64a1,1,0,0,0,0-2H14.27a1,1,0,0,0,0,2Z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M28.64,20.27H14.27a1,1,0,0,0,0,2H28.64a1,1,0,0,0,0-2Z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M28.64,25.78H14.27a1,1,0,1,0,0,2H28.64a1,1,0,0,0,0-2Z\"\n  })))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgMenu);\nexport default __webpack_public_path__ + \"static/media/menu.0cdb3b9d.svg\";\nexport { ForwardRef as ReactComponent };","var _defs, _g;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgPan(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 42.91 42.91\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"style\", null, \".cls-1{fill:none;}\"))), _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Layer_2\",\n    \"data-name\": \"Layer 2\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"export\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    className: \"cls-1\",\n    width: 42.91,\n    height: 42.91\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M27.89,31.63H18.46a2.73,2.73,0,0,1-2.3-1l-.26-.34-.85-1.08c-2.16-2.74-4-5.1-2.78-6.7a2.33,2.33,0,0,1,1.86-1h0a3.44,3.44,0,0,1,2.17,1V15.35a2.52,2.52,0,0,1,2.59-2.43,2.74,2.74,0,0,1,.7.09,2.57,2.57,0,0,1,2.47-1.73,2.68,2.68,0,0,1,2,.86,2.68,2.68,0,0,1,1.2-.28,2.56,2.56,0,0,1,2.53,1.91,3,3,0,0,1,.68-.08A2.52,2.52,0,0,1,31,16.12V28.66A3.07,3.07,0,0,1,27.89,31.63Zm-13.76-8.1c-.09,0-.22.17-.28.24-.1.6,1.77,3,2.77,4.22l.87,1.11.26.34c.06.09.29.19.71.19h9.43a1.08,1.08,0,0,0,1.15-1V16.12c0-.23-.27-.43-.59-.43s-.59.2-.59.43v5a1,1,0,0,1-1,1,1,1,0,0,1-1-1V14.29c0-.23-.27-.43-.59-.43s-.58.2-.58.43v6.82a1,1,0,0,1-2,0V13.72c0-.24-.27-.44-.59-.44s-.59.2-.59.44v7.39a1,1,0,0,1-2,0V15.35c0-.23-.26-.43-.58-.43s-.59.2-.59.43V24.8a.57.57,0,0,1,0,.13v.2a1,1,0,0,1-1.79.61c-1.62-2.1-2.28-2.2-2.4-2.21Z\"\n  })))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgPan);\nexport default __webpack_public_path__ + \"static/media/pan.fce3e1c8.svg\";\nexport { ForwardRef as ReactComponent };","var _defs, _g;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgScales(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 42.91 42.91\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"style\", null, \".cls-1{fill:none;}\"))), _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Layer_2\",\n    \"data-name\": \"Layer 2\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"export\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    className: \"cls-1\",\n    width: 42.91,\n    height: 42.91\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M11,23.81a1,1,0,0,1-1-1V20.1a1,1,0,0,1,2,0v2.71A1,1,0,0,1,11,23.81Z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M16.25,23.81a1,1,0,0,1-1-1V20.1a1,1,0,0,1,2,0v2.71A1,1,0,0,1,16.25,23.81Z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M26.67,23.81a1,1,0,0,1-1-1V20.1a1,1,0,0,1,2,0v2.71A1,1,0,0,1,26.67,23.81Z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M21.46,23.81a1,1,0,0,1-1-1V20.1a1,1,0,0,1,2,0v2.71A1,1,0,0,1,21.46,23.81Z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M31.88,23.81a1,1,0,0,1-1-1V20.1a1,1,0,0,1,2,0v2.71A1,1,0,0,1,31.88,23.81Z\"\n  })))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgScales);\nexport default __webpack_public_path__ + \"static/media/scales.a562521d.svg\";\nexport { ForwardRef as ReactComponent };","var _defs, _g;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgViews(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 42.91 42.91\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"style\", null, \".cls-1{fill:none;}\"))), _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Layer_2\",\n    \"data-name\": \"Layer 2\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"export\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    className: \"cls-1\",\n    width: 42.91,\n    height: 42.91\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M31.91,21.11a12.69,12.69,0,0,0-10.45-5.73A12.7,12.7,0,0,0,11,21.11a1,1,0,0,0,0,1,12.67,12.67,0,0,0,10.46,5.73,12.67,12.67,0,0,0,10.45-5.73A1,1,0,0,0,31.91,21.11ZM21.46,25a3.36,3.36,0,1,1,3.36-3.36A3.36,3.36,0,0,1,21.46,25Zm-8.39-3.36a11.22,11.22,0,0,1,4.26-3.38,5.25,5.25,0,0,0,0,6.75A11.31,11.31,0,0,1,13.07,21.63ZM25.6,25a5.29,5.29,0,0,0,1.22-3.35,5.36,5.36,0,0,0-1.23-3.38,11.29,11.29,0,0,1,4.24,3.37A11.23,11.23,0,0,1,25.6,25Z\"\n  })))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgViews);\nexport default __webpack_public_path__ + \"static/media/views.8817cc22.svg\";\nexport { ForwardRef as ReactComponent };","var _defs, _g;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgConnection1(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 42.91 42.91\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"style\", null, \".cls-1{fill:none;}\"))), _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Layer_2\",\n    \"data-name\": \"Layer 2\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"export\"\n  }, /*#__PURE__*/React.createElement(\"circle\", {\n    cx: 12.18,\n    cy: 21.46,\n    r: 2.97\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M30.74,20.49a1,1,0,1,1-1,1,1,1,0,0,1,1-1m0-2a3,3,0,1,0,3,3,3,3,0,0,0-3-3Z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M30.74,16.7a1,1,0,0,1-.74-.32A9.47,9.47,0,0,0,28.26,15,1,1,0,0,1,28,13.62a1,1,0,0,1,1.38-.31A11.87,11.87,0,0,1,31.48,15a1,1,0,0,1-.07,1.41A1,1,0,0,1,30.74,16.7Z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M25.21,13.56a1.26,1.26,0,0,1-.27,0,12.23,12.23,0,0,0-1.82-.37A1,1,0,0,1,22.26,12a1,1,0,0,1,1.12-.86,15,15,0,0,1,2.1.42,1,1,0,0,1,.69,1.24A1,1,0,0,1,25.21,13.56Z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M17.7,13.56a1,1,0,0,1-.27-2,15.15,15.15,0,0,1,2.11-.42,1,1,0,1,1,.25,2,12.77,12.77,0,0,0-1.82.37A1.26,1.26,0,0,1,17.7,13.56Z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M12.18,16.7a1,1,0,0,1-.68-.26A1,1,0,0,1,11.44,15a11.15,11.15,0,0,1,2.14-1.72,1,1,0,0,1,1.38.31A1,1,0,0,1,14.65,15a9.94,9.94,0,0,0-1.74,1.38A1,1,0,0,1,12.18,16.7Z\"\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    className: \"cls-1\",\n    width: 42.91,\n    height: 42.91\n  })))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgConnection1);\nexport default __webpack_public_path__ + \"static/media/connection1.f02e0c1d.svg\";\nexport { ForwardRef as ReactComponent };","var _defs, _g;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgCausation(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 50 50\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"style\", null, \".cls-1{fill:none;}\"))), _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Layer_2\",\n    \"data-name\": \"Layer 2\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"export\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    className: \"cls-1\",\n    width: 50,\n    height: 50\n  }), /*#__PURE__*/React.createElement(\"circle\", {\n    cx: 15.72,\n    cy: 28.03,\n    r: 2.97\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M34.28,27.06a1,1,0,1,1-1,1,1,1,0,0,1,1-1m0-2a3,3,0,1,0,3,3,3,3,0,0,0-3-3Z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M28.75,20.13a.84.84,0,0,1-.27,0,13.82,13.82,0,0,0-1.81-.37,1,1,0,1,1,.25-2,13.48,13.48,0,0,1,2.1.43,1,1,0,0,1,.7,1.23A1,1,0,0,1,28.75,20.13Z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M21.25,20.13a1,1,0,0,1-1-.73,1,1,0,0,1,.7-1.23,13.48,13.48,0,0,1,2.1-.43,1,1,0,1,1,.25,2,12.36,12.36,0,0,0-1.81.37A.84.84,0,0,1,21.25,20.13Z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M15.72,23.27a1,1,0,0,1-.67-.26A1,1,0,0,1,15,21.6a11.36,11.36,0,0,1,2.14-1.71,1,1,0,0,1,1.38.3,1,1,0,0,1-.3,1.39A9.28,9.28,0,0,0,16.46,23,1,1,0,0,1,15.72,23.27Z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M34,19.11a.24.24,0,0,0-.28,0l-2.64,2.39a.27.27,0,0,0-.07.27.25.25,0,0,0,.21.17l2.5.27h0a.28.28,0,0,0,.16-.06A.31.31,0,0,0,34,22l.14-2.67A.25.25,0,0,0,34,19.11Z\"\n  })))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgCausation);\nexport default __webpack_public_path__ + \"static/media/causation.69c429dd.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useState } from 'react';\nimport { ReactComponent as IconFile } from '../assets/icons/file.svg';\nimport { ReactComponent as IconInstant } from '../assets/icons/instant.svg';\nimport { ReactComponent as IconInterval } from '../assets/icons/interval.svg';\nimport { ReactComponent as IconZone } from '../assets/icons/zone.svg';\nimport { ReactComponent as IconMenu } from '../assets/icons/menu.svg';\nimport { ReactComponent as IconPan } from '../assets/icons/pan.svg';\nimport { ReactComponent as IconScales } from '../assets/icons/scales.svg';\nimport { ReactComponent as IconViews } from '../assets/icons/views.svg';\nimport { ReactComponent as IconConnection } from '../assets/icons/connection1.svg';\nimport { ReactComponent as IconCausation } from '../assets/icons/causation.svg';\nimport { ReactComponent as IconEdit } from '../assets/icons/edit.svg';\nimport EditForm from './EditForm';\n//AKA the navbar, holds all the tools, settings, and whatnot on the top of the page\n\nfunction EditButton({editMode}) {\n  return (\n    <>\n      {editMode?\n        <button className=\"buttonSecondary\">submit</button>\n        : <button className=\"editButton\"><IconEdit className=\"editIcon\"/></button>\n      }\n    </>\n  )\n}\n\nfunction NavBar(props) {\n  // console.log(props.hasScales)\n  // const [content, props.setNav] = useState(null);\n  const [iconTempObj, setIconTempObj] = useState(<IconInterval className=\"icon\" alt=\"interval\"/>);\n  // const [name, setName] = useState(props.fileName); //TODO: add promise?\n  const [editMode, setEditMode] = useState(false);\n\n  const handleClick = (ref, e) => {\n    e ? e.preventDefault(): ref.preventDefault();\n    props.setNav(ref);\n    if (props.toggle && props.toggle===ref) { //if user toggles tool that is already active, deactivate tool\n      props.setToggle(null);\n      props.setNav(null);\n    } else if (ref===\"newProj\") {\n      const confirm = window.confirm(\"Are you sure you want to begin a new project?\")\n      if (confirm) window.location.reload();\n    } else if (ref===\"about\") {\n      window.open(\"https://docs.google.com/document/d/1QgYcAYyawUQpgWIHhZpVytLEUvqQ3-6U\");\n    } else if (ref===\"tutorial\") {\n      window.open(\"https://youtu.be/beCqxNeXICs\");\n    } else if (ref===\"documentation\") {\n      window.open(\"https://github.com/huegor/chronovis-paintbox\");\n    } else { //otherwise, activate tool\n      props.setToggle(ref);\n    }\n  }\n\n  // const handleSetName = (e) => {\n  //   e.preventDefault();\n  //   if (editMode) {\n  //     props.setFileName(name);\n  //     setEditMode(false);\n  //   } else {\n  //     setEditMode(true);\n  //   }\n  // }\n\n  //TODO: fix file name not displaying\n  /*\n  {name &&\n    <form className=\"container flexRow flexCenter\" onSubmit={(e) => setEditMode(true?false:true)}>\n      <EditForm name=\"name\" value={props.fileName} nullValue={\"Untitled\"} inputType=\"text\" placeholder=\"insert file name\" editMode={editMode} handleChange={(e) => props.setFileName(e.target.value)} /><br/>\n      <EditButton editMode={editMode}/>\n    </form>\n  }\n  */\n\n  //todo: break up into components\n  return (\n    <>\n      <nav className=\"container flexRow fullWidth containerSpace\">\n        <div className=\"container flexRow containerLeft\">\n          <div className=\"dropdown left\">\n            <button onClick={(e) => handleClick(\"temporalObject\", e)} disabled={!props.hasScales} className={`${props.toggle===\"addInstant\" ? \"toolActive\" : \"\"}`} title=\"Temporal Objects\">{iconTempObj}</button>\n            {props.nav===\"temporalObject\" && <ul className=\"dropdown-content\">\n              <li><button onClick={(e) => {handleClick(\"addInterval\", e); setIconTempObj(<IconInterval className=\"icon\" alt=\"Interval\"/>)}} title=\"Interval\"><IconInterval alt=\"Interval\"/>Interval</button></li>\n              <li><button onClick={(e) => {handleClick(\"addInstant\", e); setIconTempObj(<IconInstant className=\"icon\" alt=\"Instant\"/>)}} title=\"Instant\"><IconInstant alt=\"Instant\"/>Instant</button></li>\n              <li><button  onClick={(e) => {handleClick(\"addZone\", e); setIconTempObj(<IconZone className=\"icon\" alt=\"Zone\"/>)}} title=\"Zone\"><IconZone alt=\"Zone\"/>Zone</button></li>\n            </ul>}\n          </div>\n          <div className=\"dropdown left\">\n            <button onClick={(e) => handleClick(\"inflections\", e)} disabled={true/*!props.hasScales*/} title=\"Inflections\"><IconConnection className=\"icon\" alt=\"Cancelled\"/></button>\n            {props.nav===\"inflections\" && <ul className=\"dropdown-content  \">\n              <li className=\"subheading\">Semantic</li>\n              <li><button onClick={(e) => handleClick(\"importance\", e)}>Importance</button></li>\n              <li><button onClick={(e) => handleClick(\"certainty\", e)}>Certainty</button></li>\n              <li><button onClick={(e) => handleClick(\"cancelled\", e)}>Cancelled</button></li>\n              <li><button onClick={(e) => handleClick(\"foreshadowing\", e)}>Foreshadowing</button></li>\n              <li className=\"subheading\">Syntactic</li>\n              <li><button onClick={(e) => handleClick(\"connection\", e)}>Connection</button></li>\n              <li><button>Causality</button></li>\n            </ul>}\n          </div>\n          <div className=\"dropdown left\">\n            <button onClick={(e) => handleClick(\"scales\", e)} disabled={!props.proj} title=\"Scales\"><IconScales className=\"icon\" alt=\"Scales\"/></button>\n            {props.nav===\"scales\" && <ul className=\"dropdown-content  \">\n              <li><button onClick={(e) => handleClick(\"editScale\", e)} disabled={!props.hasScales} title=\"Edit Scale\">Edit Scale</button></li>\n              <li><button onClick={(e) => handleClick(\"addScale\", e)} title=\"Create Scale\">Create Scale</button></li>\n              {/*<li><button disabled={!props.hasScales} title=\"Expand Scale\">Expand Scale</button></li>*/}\n            </ul>}\n          </div>\n          <div className=\"dropdown left\">\n            <button className=\"fullWidth\" onClick={(e) => handleClick(\"file\", e)} disabled={!props.proj} title=\"File\"><IconFile className=\"icon\" alt=\"File\"/></button>\n            {props.nav===\"file\" && <ul className=\"dropdown-content  \">\n              <li className=\"subheading\">Edit</li>\n              <li><button onClick={props.undo} disabled={!props.canUndo}>Undo (BETA)</button></li>\n              <li><button onClick={(e) => handleClick(\"redo\", e)} disabled>Redo</button></li>\n              <li className=\"subheading\">Document</li>\n              <li><button onClick={(e) => handleClick(\"save\", e)}>Save & Export</button></li>\n              <li><button onClick={(e) => handleClick(\"import\", e)}>Import Data</button></li>\n              <li><button onClick={(e) => handleClick(\"dataLibrary\", e)}>Import from Library</button></li>\n              <li><button id=\"importImg\" disabled>Import Image</button></li>\n              <li><button onClick={(e) => handleClick(\"newProj\", e)}>New Project</button></li>\n            </ul>}\n          </div>\n        </div>\n        {props.proj &&\n          <form className=\"container flexRow flexCenter\" onSubmit={(e) => {e.preventDefault(); setEditMode(editMode?false:true)}}>\n            <EditForm name=\"name\" value={props.fileName} nullValue={\"Untitled\"} inputType=\"text\" placeholder=\"insert file name\" editMode={editMode} handleChange={(e) => props.setFileName(e.target.value)} required={true}/><br/>\n            <EditButton editMode={editMode}/>\n          </form>\n        }\n        <div className=\"right container flexRow containerRight\">\n          <button className=\"right\" onClick={(e) => handleClick(\"pan\", e)} disabled={!props.hasScales} title=\"Pan\"><IconPan className=\"icon\" alt=\"Pan\"/></button>\n          <div className=\"dropdown right\">\n            <button onClick={(e) => handleClick(\"views\", e)} disabled={true/*!props.hasScales*/} title=\"Views\"><IconViews className=\"icon\" alt=\"Views\"/></button>\n            {props.nav===\"views\" && <ul className=\"dropdown-content rightPos\">\n              <li className=\"subheading\">Graphics</li>\n              <li><button>Working Data</button></li>\n              <li><button onClick={(e) => handleClick(\"scrubber\", e)}>Scrubber</button></li>\n              <li><button>Empirical/Relative Scales</button></li>\n              <li><button onClick={(e) => handleClick(\"layers\", e)}>Layers</button></li>\n              <li className=\"subheading\">UI</li>\n              <li><button onClick={(e) => handleClick(\"showLabel\", e)}>{props.showLabel ? \"Show IDs\" : \"Show Labels\"}</button></li>\n              <li><button onClick={(e) => handleClick(\"legend\", e)}>Legend</button></li>\n            </ul>}\n          </div>\n          <div className=\"dropdown right\">\n            <button onClick={(e) => handleClick(\"menu\", e)} title=\"Menu\"><IconMenu className=\"icon\" alt=\"Menu\"/></button>\n            {props.nav===\"menu\" && <ul className=\"dropdown-content rightPos\">\n              <li className=\"subheading\">Settings</li>\n              <li><button id=\"acessibility\" disabled>Accessibility</button></li>\n              <li><button id=\"theme\" disabled>Theme</button></li>\n              <li className=\"subheading\">ChronoVis: Paintbox</li>\n              <li><button onClick={(e) => handleClick(\"about\", e)}>About</button></li>\n              <li><button onClick={(e) => handleClick(\"tutorial\", e)}>Tutorial</button></li>\n              <li><button onClick={(e) => handleClick(\"documentation\", e)}>Documentation</button></li>\n            </ul>}\n          </div>\n        </div>\n      </nav>\n      {/*props.toggle && <div className=\"debugging\">Currently active: {props.toggle}</div>*/}\n    </>\n  );\n}\n\nexport default NavBar;\n","import React from 'react';\n\n/*\n  Layer creation and toggling.\n*/\n\nfunction Layers({activeLayer, setActiveLayer, data}){\n\n  const handleClick = (e) => {\n    const parent = e.target.parentNode;\n    setActiveLayer(parseInt(parent.id));\n\n    e.preventDefault();\n  }\n\n  //extract layer from each node, then put unique entries into an array and sort\n  const orderedLayers = [...new Set(data.map(({layer}) => layer))].sort((a, b) => {return a-b});\n  //create selection entry for all layers !== 0\n  const layers = orderedLayers.filter(number => number !== 0).map((number) =>\n    <li key={number} id={number}> Layer {number} <button onClick={handleClick}>Select</button></li>\n  );\n\n  return (\n    <div className=\"ui absolute dropdown rightPos\">\n      Layers\n      <ul>\n        <li>All layers <button onClick={handleClick}>Select</button></li>\n        {layers}\n      </ul>\n    </div>\n  )\n};\n\nexport default Layers;\n","import React, { useState, useEffect, useRef } from 'react';\n// import { select, drag, axisBottom, scalePoint } from \"d3\";\n\nfunction Scrubber({activeData, setActiveData, src, setData}) {\n\n  const handleClick = (e) => {\n    if (e.target.id === \"foward\") {\n      setActiveData(activeData += 1);\n    } else {\n      setActiveData(activeData -= 1);\n    }\n    setData(src.instants[activeData]);\n  }\n\n  // //initialize reference object to pass to svg in React Dom\n  // const svgRef = useRef();\n  //\n  // useEffect(() => {\n  //   const svg = select(svgRef.current);\n  //\n  //   const dragged = drag()\n  //     .on(\"drag\", e => {\n  //       console.log(activeData);\n  //       // if ((e.dx > 0) && (activeData>src.nodes.length-1 )) {\n  //       //   setActiveData(activeData += 1);\n  //       // } else if (activeData<0) {\n  //       //   setActiveData(activeData -= 1);\n  //       // }\n  //       // console.log(activeData);\n  //     });\n  //\n  //   const scale = scalePoint()\n  //     .domain(src.nodes.map((n) => src.nodes.indexOf(n)))\n  //     .range([0, 300]); //todo\n  //\n  //   const axis = axisBottom(scale);\n  //\n  //   svg\n  //     .select(\".scrubber-axis\")\n  //     .style(\"transform\", `translateY(70px)`) //todo\n  //     .call(axis);\n  //\n  //   svg\n  //     .append(\"circle\")\n  //     .attr(\"r\", 5)\n  //     .attr(\"cx\", activeData)\n  //     .attr(\"cy\", 50)\n  //     .call(dragged)\n  //     .on(\"click\", () => {setActiveData(activeData+=1)});\n  //\n  // }, [activeData, src]);\n\n\n  // <svg ref={svgRef} className=\"ui absolute center\">\n  //   <g className=\"scrubber-axis\" />\n  // </svg>\n\n  return (\n    <div className=\"ui absolute center\">\n      <button id=\"back\" onClick={handleClick} disabled={activeData===0}>&lt;</button>\n      {activeData}\n      <button id=\"foward\" onClick={handleClick} disabled={activeData===src.instants.length-1}>&gt;</button>\n    </div>\n  );\n}\n\nexport default Scrubber;\n","import React from 'react';\n\nfunction Legend() {\n  return (\n    <div className=\"ui absolute dropdown rightPos\">\n      Legend\n      <ul>\n        <li><span style={{backgroundColor: 'black'}}>&#8195;</span> Hank</li>\n        <li><span style={{backgroundColor: 'red'}}>&#8195;</span> Peggy</li>\n        <li><span style={{backgroundColor: '#4DA6FF'}}>&#8195;</span> Bobby</li>\n      </ul>\n    </div>\n  )\n}\n\nexport default Legend;\n","import React from 'react';\n\nfunction SelectedDisplay(props){\n  if (!props.target) { //no selection\n    return <p>Selected: None</p>;\n  } else if (props.target.source) { //link\n    return <p>Selected: {props.target.source.name} ({props.target.source.id})  {props.target.target.name} ({props.target.target.id})</p>;\n  } else if (props.target.start) { //zone\n    return <p>Selected: {props.target.name} ({props.target.start} - {props.target.end})</p>;\n  } else { //instant\n    return <p>Selected: {props.target.name} ({props.target.id})</p>;\n  }\n};\n\nexport default SelectedDisplay;\n","import React, { useState } from 'react';\nimport SelectedDisplay from './SelectedDisplay';\n\nfunction Certainty(props) {\n  // console.log(props.target);\n\n  const [input, setInput] = useState();\n\n  //set opacity of target\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    if (props.target.start) { //zone\n      const newZones = [...props.zones];\n      const zone = newZones.find(n => n.id === props.target.id);\n      zone.opacity = parseFloat(input)*.5;\n      props.setZones(newZones);\n      return;\n    }\n\n    const newInstants = [...props.data];\n\n    if (props.target.source) { //link\n      const instant = newInstants.find(n => n.id === props.target.source.id);\n      instant.intervalOpacity = parseFloat(input);\n    } else { //instant\n      const instant = newInstants.find(n => n.id === props.target.id);\n      instant.intervalOpacity = instant.opacity ? instant.opacity : 1; //don't change interval opacity\n      instant.opacity = parseFloat(input);\n    }\n    props.updateSrc(newInstants);\n  };\n\n  const handleClose = (e) => {\n    props.setToggle(null);\n    e.preventDefault();\n  }\n\n  return (\n    <form className=\"ui absolute center\" onSubmit={handleSubmit}>\n      <button className=\"right\" onClick={handleClose}>x</button><br/>\n      <SelectedDisplay target={props.target[1].text}/>\n      <label>\n        Certainty\n        <input type=\"text\"\n          placeholder=\"0 (never) - 1 (certain)\"\n          value={input}\n          onChange={(e) => setInput(e.target.value)}\n          required\n        />\n      </label><br/>\n      <input type=\"submit\" value=\"Submit\"/>\n    </form>\n  )\n}\n\nexport default Certainty;\n","import React, { useState } from 'react';\nimport SelectedDisplay from './SelectedDisplay';\n\nfunction Importance(props) { //TODO: intervals, negatives, \"steps\"\n\n  const [input, setInput] = useState();\n\n  //todo: make for interval also\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    if (props.target.start) { //zone\n      const newZones = [...props.Zones];\n      const zone = newZones.find(n => n.id === props.target.id);\n      zone.importance = parseFloat(input);\n      props.setZones(newZones);\n      return;\n    }\n\n    const newInstants = [...props.data];\n\n    if (props.target.source) { //link\n      const instant = newInstants.find(n => n.id === props.target.source.id);\n      instant.intervalWidth = instant.intervalWidth ? instant.intervalWidth*(1+input/2) : props.radius/3*(1+input/2); //if intervalWidth defined, multiply. otherwise, use default\n    } else { //instant\n      const instant = newInstants.find(n => n.id === props.target.id);\n      instant.radius = instant.radius ? instant.radius*(1+input/2) : props.radius*(1+input/2); //if radius defined, multiply. otherwise, use default radius\n    }\n    props.setData(newInstants);\n\n  };\n\n  const handleClose = (e) => {\n    props.setToggle(null);\n    e.preventDefault();\n  }\n\n  return (\n    <form className=\"ui absolute center\" onSubmit={handleSubmit}>\n      <button className=\"right\" onClick={handleClose}>x</button><br/>\n      <SelectedDisplay target={props.target}/>\n      <label>\n        Importance\n        <input type=\"number\"\n          placeholder=\"ints relative to 0 (+ and -)\"\n          value={input}\n          onChange={(e) => setInput(e.target.value)}\n          required\n        />\n      </label><br/>\n      <input type=\"submit\" value=\"Submit\"/>\n    </form>\n  )\n}\n\nexport default Importance;\n","import React, { useState } from 'react';\n\nfunction Connection(props) {\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    /*\n      - error handling: check if target[0] and target[1] exists\n      - find instant w/ id of target[0] and:\n        - If target[1] is:\n          - instant, target[1].id\n          - interval, {\"x\": target.x-source.x, \"y\": mouse pointer, \"scale\":\"smalls\"}\n          - zone, {\"x\": 1622, \"y\": 12, \"scale\":\"smalls\"}\n    */\n\n    if (!props.target[0] || !props.target[0]) {\n      console.log(\"error\")\n      return;\n    }\n\n    const newInstants = [...props.data];\n    const instant = newInstants.find(n => n.id === props.target[0].id);\n    if (props.target[1].x) { //for interval and zone\n      const target = props.target[1]\n      instant.connections = [{\"x\": target.x, \"y\": target.y, \"scale\": target.scale}, 0]\n    } else { //for instants\n      const instant2 = newInstants.find(n => n.id === props.target[1].id);\n      instant.connections = [instant2.id, 0];\n      instant2.connections = [instant.id, 1];\n    }\n    //\n    // if (props.target.start) { //zone\n    //   const newzones = [...props.zones];\n    //   const zone = newzones.find(n => n.id === props.target.id);\n    //   zone.importance = parseFloat(input);\n    //   props.setZones(newZones);\n    //   return;\n    // }\n    //\n\n    //\n    // if (props.target.source) { //link\n    //   const instant = newInstants.find(n => n.id === props.target.source.id);\n    //   instant.intervalWidth = instant.intervalWidth ? instant.intervalWidth*(1+input/2) : props.radius/3*(1+input/2); //if intervalWidth defined, multiply. otherwise, use default\n    // } else { //instant\n    //   const instant = newInstants.find(n => n.id === props.target.id);\n    //   instant.radius = instant.radius ? instant.radius*(1+input/2) : props.radius*(1+input/2); //if radius defined, multiply. otherwise, use default radius\n    // }\n    props.setData(newInstants);\n\n\n  };\n\n  const handleClose = (e) => {\n    props.setToggle(null);\n    e.preventDefault();\n  }\n\n  return (\n    <form className=\"ui absolute center\" onSubmit={handleSubmit}>\n      <button className=\"right\" onClick={handleClose}>x</button><br/>\n      <p>\n        Connect<br/>\n        <b>{props.target[0]?`${props.target[0].name}(${props.target[0].id})`: \"None\"}</b> {!props.target[2] && \"<\"}<br/>\n        with<br/>\n        <b>{props.target[1]?`${props.target[1].name}(${props.target[1].id})`: \"None\"}</b> {props.target[2]===1 && \"<\"}\n      </p>\n      <input type=\"submit\" value=\"Submit\"/>\n    </form>\n  )\n}\n\nexport default Connection;\n","import React, { useState } from 'react';\n\nfunction WelcomeMessage({setProj, setFileName, setToggle, toggle}) {\n  const [name, setName] = useState(\"\");\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    setProj(true);\n    setFileName(name);\n  }\n\n  return (\n    <div className=\"fullHeight container bgSecondary\" onClick={(e) => toggle?setToggle(null):null}>\n      <div className=\"flexCenter thirdWidth\">\n        <h1>Hi, welcome to <br/>ChronoVis: Paintbox.</h1>\n        <p className=\"smallTxt\">By Johanna Drucker, developed by Skye Hoffman.</p>\n        <p className=\"smallTxt\">\n          A no-code graphical interface for generating temporal data visualizations,\n          designed by the humanities for the humanities. <a href=\"https://tinyurl.com/535yebj3\" target=\"_blank\">More info here.</a>\n        </p><br/>\n        <form className=\"container containerStretch flexRow\" onSubmit={handleSubmit}>\n          <input type=\"text\"\n            className=\"flexGrow2\"\n            placeholder=\"insert project name\"\n            value={name}\n            onChange={(e) => setName(e.target.value)}\n            required\n          />&nbsp;&nbsp;&nbsp;\n          <button className=\"buttonPrimary\">Create Project</button>\n        </form><br/>\n        <div className=\"container flexRow\">\n          <button className=\"buttonPrimary\" onClick={(e) => setToggle(\"import\")}>Import Project</button>&nbsp;&nbsp;&nbsp;\n          <button className=\"buttonPrimary\" onClick={(e) => {e.preventDefault(); window.open(\"https://youtu.be/beCqxNeXICs\")}}>\n            First Time?\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default WelcomeMessage;\n","//after creating new project & before creating scale\n\nfunction EmptyProj({setToggle, toggle}) {\n  return (\n    <div className=\"flexCenter\">\n      <button className=\"buttonPrimary\" onClick={() => setToggle(\"dataLibrary\")}>Import from Library</button> or <button className=\"buttonPrimary\" onClick={() => setToggle(\"addScale\")}>Create a scale</button>\n    </div>\n  );\n}\n\nexport default EmptyProj;\n","import React, {useState} from 'react';\n\n//after creating new project & before creating scale\n\nfunction DataLibrary({projects, updateSrc, setToggle}) {\n\n  const [selectedProject, setSelectedProject] = useState(\"\");\n\n  const handleChange = (e) => {\n    setSelectedProject(e.target.value);\n  }\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    // console.log(projects[selectedProject].data)\n    updateSrc(projects[selectedProject].data, \"import\");\n    setToggle(null);\n  }\n\n  const handleClose = (e) => {\n    e.preventDefault();\n    setToggle(null);\n  }\n\n  return (\n    <form className=\"ui absolute center container\">\n    <span className=\"textSecondary\"><b>Temporal Models Library</b><br/>\n    Some pre-constructed examples to stir the imagination.\n    </span><br/>\n      {\n        Object.entries(projects).map(([name, proj], i) =>\n          <div className=\"container flexRow containerLeft\" key={i}>\n            <input type=\"radio\" value={name} onChange={handleChange} checked={selectedProject===name}/>\n            <p>\n              <b>{name}</b><br/>\n              {proj.description}<br/>\n            </p>\n          </div>\n        )\n      }\n      <div className=\"flexCenter\">\n        <button className=\"buttonSecondary\" onClick={handleClose}>Cancel</button> &nbsp;\n        <button className=\"buttonSecondary\" onClick={handleSubmit}>Submit</button>\n      </div>\n    </form>\n  );\n}\n\nexport default DataLibrary;\n","import React, { useState } from 'react';\nimport './stylesheets/index.scss';\n\n/// Component Imports ///\nimport Graphic from \"./components/Graphic\";\nimport Image from \"./components/Image\";\nimport NewInstantForm from \"./components/NewInstantForm\";\nimport NewIntervalForm from \"./components/NewIntervalForm\";\nimport NewZoneForm from \"./components/NewZoneForm\";\nimport NewScaleForm from \"./components/NewScaleForm\";\nimport EditScaleForm from \"./components/EditScaleForm\";\nimport InfoBox from \"./components/InfoBox\";\nimport ExportDataForm from \"./components/ExportDataForm\";\nimport ImportDataForm from \"./components/ImportDataForm\";\nimport NavBar from \"./components/NavBar\";\nimport Layers from \"./components/Layers\";\nimport Scrubber from \"./components/Scrubber\";\nimport Legend from \"./components/Legend\";\nimport Certainty from \"./components/Certainty\";\nimport Importance from \"./components/Importance\";\nimport Connection from \"./components/Connection\";\nimport WelcomeMessage from \"./components/WelcomeMessage\";\nimport generateIntervals from \"./components/generateIntervals\";\nimport EmptyProj from \"./components/EmptyProj\";\nimport DataLibrary from \"./components/DataLibrary\";\n\n/// Data Imports ///\nimport Data from \"./data.json\";\nimport NullData from \"./NullData.json\";\nimport LifeImportanceData from \"./life_by_importance.json\"\nimport TagVisData from \"./tagVis.json\";\nimport WaitingForBusData from \"./waiting_for_bus.json\"\n\n\nfunction translateData({data, nullData}) {\n  const newData = {...nullData};\n  const newInst = newData.instants[0];\n  const scaleName = \"calendarDate\";\n  const xValues = [];\n  const yValues = [];\n  const segments = [];\n  // var key = 0;\n  var segmentMin = null;\n\n  //TODO: automated scale generation\n  for (const datum of data) {\n    newInst[`${datum.id}`] = {\n      \"x\": datum.calendarDate,\n      \"y\": datum.cy,\n      \"scale\": [(datum.calendarDate<0)?\"early\":scaleName, \"Order in Text\"],\n      // \"target\": [datum.targets[datum.targets.length-1]], //???\n      \"text\": datum.innerText,\n      // ...(e.target.color && {\"color\": e.target.color.value}), //if color is specified, create color entry in data\n      // ...(e.target.radius && {\"radius\": e.target.radius.value}),\n      // ...(e.target.opacity && {\"opacity\": e.target.opacity.value})\n    };\n    xValues.push(datum.calendarDate);\n    yValues.push(datum.cy)\n    // key++;\n  }\n\n  xValues.sort((a, b) => a-b); //smallest to largest\n  yValues.sort((a, b) => a-b); //smallest to largest\n\n\n  // //TODO: automated scale generation\n  // xValues.forEach((val, i) => {\n  //   if (xValues[i]+Math.abs(xValues[i])<xValues[i+1]) {\n  //     segments.push({\n  //       \"min\": segmentMin,\n  //       \"max\":xValues[i]\n  //     })\n  //     segmentMin = xValues[i+1];\n  //   } else if ((segments.length) && (i===xValues.length-1)){ //if there are segments and this is the last value\n  //     segments.push({\n  //       \"min\": segmentMin,\n  //       \"max\": null\n  //     })\n  //   };\n  // });\n  // for (let i; i=0; i++) {\n  //   console.log(xValues[i]+Math.abs(xValues[i])<xValues[i+1]);\n  //   if (xValues[i]+Math.abs(xValues[i])<xValues[i+1]) { //if a value is less than 1/2 of the next value, create a segment\n  //     // segments.push({\n  //     //   \"min\": segmentMin,\n  //     //   \"max\":xValues[i]\n  //     // })\n  //     // segmentMin = xValues[i+1];\n  //   }\n  // }\n  newData.scales.x[\"early\"] = {\n    \"min\": xValues[0]-10,\n    \"max\": xValues[0]+1000,\n    \"units\": \"Years\",\n    \"yPos\": 1,\n    \"hideLabel\":true,\n    \"segments\": [{max: xValues[0]}] //todo\n  }\n\n  newData.scales.x[`${scaleName}`] = {\n    \"min\": xValues[2]-90,\n    \"max\": xValues[xValues.length-1],\n    \"units\": \"Years\",\n    \"yPos\": 1,\n    \"segments\": [{min:xValues[2]}] //todo\n  }\n\n  newData.scales.y[\"Order in Text\"] = {\n    \"min\": yValues[0],\n    \"max\": yValues[xValues.length-1],\n    \"units\": \"paragraph\"\n  }\n\n\n  // console.log(minX, maxX);\n  // console.log(newData.scales);\n  return newData;\n}\n\n\n// function scalesList(scales) {\n//   Object.keys(scales).map((key, i) => {\n//     return <option value={key} key={i}>{key}</option>\n//   });\n// }\n\nfunction App() {\n\n  const projects = {\n    \"My Life by Importance\": {\n      description:\"A temporal model of events in my life organized by importance, as featured in the video tutorial.\",\n      data: LifeImportanceData\n    },\n    \"The Anthropocene Signal Amidst the Noise\": {\n      description:\"AKA ChronoVis: TagVis, this data was imported and formatted from the UCLAB Anthropocene Curriculum Project. Special thanks to Francesca Morini and Marian Drk.\",\n      data: TagVisData\n    },\n    \"Waiting for the bus\": {\n      description:`\"I woke up at 7:30 am in someone else's bed today and it took me half an hour to get up. Thankfully, I won't be missing the 8:15AM bus, I thought. I tried to remember what happened last night but all I could recall was leaving the house at 9PM. Anyway, when I got to the bus stop 2 minutes before it was set to arrive, I waited and waited but it never showed up.\"`,\n      data: WaitingForBusData\n    },\n  }\n\n  const scaleData = {\n    \"imgs\": [],\n    \"instants\":\n    [\n      []\n    ],\n    \"zones\":\n    [],\n    \"scales\":\n    {\n      \"x\":{\n        \"Egyptian Dynasties\": {\n          \"min\": -3100,\n          \"max\": -30,\n          \"units\": \"Years BCE\",\n          \"yPos\": 1,\n          \"tickValues\": [],\n          \"segments\": [\n            // {\"max\": -2686, \"label\": \"Early Dynastic\"},\n            // {\"min\": -2686, \"max\": -2181, \"label\": \"Old Kingdom\"},\n            // {\"min\": -2181, \"max\": -2040, \"label\": \"First Intermediate Period\"},\n            // {\"min\": -2040, \"max\": -1649, \"label\": \"Middle Kingdom\"},\n            // {\"min\": -1649, \"max\": -1550, \"label\": \"Second Intermediate Period\"},\n            // {\"min\": -1550, \"max\": -1077, \"label\": \"New Kingdom\"},\n            // {\"min\": -1077, \"max\": -656, \"label\": \"Third Intermediate Period\"},\n            // {\"min\": -656, \"max\": -332, \"label\": \"Late Period\"},\n            // {\"min\": -332, \"label\": \"Graeco-Roman\"}\n          ]\n        }\n      },\n      \"y\":{\n        \"Place in Text\": {\n          \"min\": 3,\n          \"max\": 11,\n          \"units\": \"paragraph\"\n        }\n      }\n    }\n  };\n\n\n  //user defined\n  const radius = 4;\n\n  //for entire project\n  const [proj, setProj] = useState(false);\n  const [fileName, setFileName] = useState(\"\");\n\n  //for the entire ChronoJSON\n  // console.log(translateData({data:TagVisData,nullData:NullData}))\n  // console.log(TagVisData)\n  const [src, setSrc] = useState(NullData);\n\n  //for ChronoJSON history. for undo and redo\n  const [history, setHistory] = useState([]) //make fixed length array\n\n  //--- copies of the source data. altering visual views does not necessarily change src data---//\n  //for toggling the active data as used by scrubber\n  const [activeData, setActiveData] = useState(0);\n  //for toggling the active layer\n  const [activeLayer, setActiveLayer] = useState();\n  //for active tool modes\n  const [activeTool, setActiveTool] = useState();\n\n  //initialize datapoints\n  const [data, setData] = useState(src.instants[activeData]);\n  //links are initialized in Graphic.js\n  // const [links, setLinks] = useState(generateLinks(src.instants[activeData]))\n  //initialize zones\n  const [zones, setZones] = useState(src.zones);\n  //initialize scales\n  const [scales, setScales] = useState(src.scales);\n\n  //toggles datapoint IDs vs labels\n  const [showLabel, setShowLabel] = useState(true);\n\n  //for toggling the active scale\n  const [activeScale, setActiveScale] = useState([Object.keys(scales.x)[0],Object.keys(scales.y)[0]])\n\n  //---UI stuff---//\n  //UI window toggles\n  const [toggle, setToggle] = useState();\n  //Navbar dropdown toggles\n  const [nav, setNav] = useState();\n  //UI info boxes for points, intervals, etc.\n  const [info, setInfo] = useState();\n  //Inflection info\n  const [inflectTarget, setInflectTarget] = useState();\n  //Syntactic inflections order\n  const [syntacticOrder, setSyntacticOrder] = useState([null, null, null]); //[target1, target2, #]. # dictates order, switches b/w 0 and 1\n  //--- functions ---//\n  const updateSrc = (newData, key) => {\n    setHistory([...history, {src:src, activeScale: activeScale, activeData: activeData, activeLayer: activeLayer}]); //history.length-1 is last src before this\n    if (key===\"import\") {\n      //copy & pasted from ImportDataForm\n      setScales(newData.scales);\n      setActiveScale([Object.keys(newData.scales.x)[0],Object.keys(newData.scales.y)[0]]);\n      setActiveData(0);\n      setData(newData.instants[activeData]);\n      setZones(newData.zones);\n      setSrc(newData);\n      return;\n    }\n    const newSrc = src;\n    //why is console.log(data) before & after the same, but new data point still shows up\n    //have a function where, if incoming data greater than scale max or less than scale min, set that to scale max/min\n    if (key===\"zones\") {\n      setZones(newData);\n      newSrc.zones = zones;\n    } else if (key===\"scales\") {\n      setScales(newData);\n      newSrc.scales = newData;\n    } else {\n      setData(newData);\n      newSrc.instants[activeData] = data;\n    }\n    console.log(history);\n    setSrc(newSrc);\n    setToggle(null);\n  }\n\n const undo = () => {\n   const newHistory = [...history];\n   const last = newHistory.pop(); //pop() changes length of array\n\n   if (last === undefined) {\n     setHistory([]);\n   } else if (!last.activeScale[0] || !last.activeScale[1]) {\n     setHistory([]);\n   } else {\n     console.log(last)\n     console.log(newHistory)\n     setHistory([newHistory]);\n     setActiveScale(last.activeScale);\n     setActiveData(last.activeData);\n     setActiveLayer(last.activeLayer);\n     setSrc(last.src);\n     setScales(last.src.scales);\n     setData(last.src.instants[activeData]);\n     setZones(last.src.zones);\n     if (!newHistory.length) { //length after\n       setHistory([]);\n     }\n   }\n }\n\n\n  // console.log(info);\n  /*\n    TODO:\n    - for piecewise timeline, make function that generates different graphics\n  */\n//\n  return (\n    <>\n      {info && <InfoBox\n        info={info}\n        setInfo={setInfo}\n        history={history} setHistory={setHistory}\n        data={data} setData={setData}\n        src={src} setSrc={setSrc}\n        updateSrc={updateSrc}\n        zones={zones}\n        radius={radius}\n      />}\n      <NavBar\n        toggle={toggle}\n        setToggle={setToggle}\n        nav={nav} setNav={setNav}\n        data={data} showLabel={showLabel}\n        setShowLabel={setShowLabel}\n        hasScales={Object.keys(scales.y).length}\n        fileName={fileName}\n        setFileName={setFileName}\n        proj={proj}\n        undo={undo} canUndo={history.length}\n      />\n      <div onClick={(e) => (toggle)?setNav(null):null}>\n        {toggle === \"dataLibrary\" && <DataLibrary projects={projects} updateSrc={updateSrc} setToggle={setToggle}/>}\n        {toggle===\"scrubber\" && <Scrubber activeData={activeData} setActiveData={setActiveData} src={src} setData={setData}/>}\n        {toggle===\"NewInstantForm\" &&\n          <NewInstantForm\n            data={data}\n            setData={setData}\n            target={inflectTarget}\n            setToggle={setToggle}\n            scales={src.scales}\n            activeScale={activeScale}\n            activeData={activeData}\n            history={history} setHistory={setHistory}\n            updateSrc={updateSrc}\n          />\n        }\n        {toggle===\"editScale\" && <EditScaleForm scales={scales} updateSrc={updateSrc} setToggle={setToggle} activeScale={activeScale} setActiveScale={setActiveScale}/>}\n        {toggle===\"addZone\" && <NewZoneForm zones={zones} updateSrc={updateSrc} setToggle={setToggle} scales={scales} activeScale={activeScale}/>}\n        {toggle===\"addInterval\" && <NewIntervalForm data={data} updateSrc={updateSrc} setToggle={setToggle} scales={scales} activeScale={activeScale} history={history} setHistory={setHistory}/>}\n        {toggle===\"addScale\" && <NewScaleForm src={src} updateSrc={updateSrc} setToggle={setToggle} setActiveScale={setActiveScale}/>}\n        {toggle===\"save\" &&\n          <ExportDataForm\n            src={src}\n            setSrc={setSrc}\n            data={data}\n            zones={zones}\n            scales={scales}\n            activeData={activeData}\n            setToggle={setToggle}\n            fileName={fileName}\n          />\n        }\n        {toggle===\"legend\" && <Legend/>}\n        {toggle===\"layers\" && <Layers activeLayer={activeLayer} setActiveLayer={setActiveLayer} data={data}/>}\n        {toggle===\"import\" &&\n          <ImportDataForm\n            updateSrc={updateSrc}\n            setToggle={setToggle}\n            setProj={setProj}\n            setFileName={setFileName}\n          />\n        }\n        {toggle===\"certainty\" &&\n          <Certainty\n            target={inflectTarget}\n            setToggle={setToggle}\n            data={data}\n            updateSrc={updateSrc}\n            zones={zones}\n            setZones={setZones}\n          />\n        }\n        {toggle===\"importance\" &&\n          <Importance\n            target={inflectTarget}\n            setToggle={setToggle}\n            data={data}\n            setData={setData}\n            zones={zones}\n            setZones={setZones}\n            radius={radius}\n            setProj={setProj}\n          />\n        }\n        {toggle===\"connection\" &&\n          <Connection\n            target={syntacticOrder}\n            setToggle={setToggle}\n            data={data}\n            setData={setData}\n            zones={zones}\n            setZones={setZones}\n          />\n        }\n\n        {\n          proj ?\n          <div id=\"main\" className=\"container fullHeight\">\n            {Object.keys(scales.x).length ?\n              <Graphic\n                data={data}\n                setData={setData}\n                updateSrc={updateSrc}\n                zones={zones}\n                setZones={setZones}\n                radius={radius}\n                info={info}\n                setInfo={setInfo}\n                setInflectTarget={setInflectTarget}\n                showLabel={showLabel}\n                activeLayer={activeLayer}\n                toggle={toggle}\n                setToggle={setToggle}\n                scales={scales}\n                setScales={setScales}\n                syntacticOrder={syntacticOrder}\n                setSyntacticOrder={setSyntacticOrder}\n                activeScale={activeScale}\n              />\n              : <EmptyProj toggle={toggle} setToggle={setToggle}/>\n            }\n            {src.imgs.length>0 && <Image urls={src.imgs}/>}\n          </div> :\n          <WelcomeMessage setProj={setProj} setFileName={setFileName} toggle={toggle} setToggle={setToggle}/>\n        }\n      </div>\n    </>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n// import './stylesheets/index.scss';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}