{"ast":null,"code":"import { extent, thresholdSturges, tickStep, range } from \"d3-array\";\nimport { slice } from \"./array.js\";\nimport ascending from \"./ascending.js\";\nimport area from \"./area.js\";\nimport constant from \"./constant.js\";\nimport contains from \"./contains.js\";\nimport noop from \"./noop.js\";\nvar cases = [[], [[[1.0, 1.5], [0.5, 1.0]]], [[[1.5, 1.0], [1.0, 1.5]]], [[[1.5, 1.0], [0.5, 1.0]]], [[[1.0, 0.5], [1.5, 1.0]]], [[[1.0, 1.5], [0.5, 1.0]], [[1.0, 0.5], [1.5, 1.0]]], [[[1.0, 0.5], [1.0, 1.5]]], [[[1.0, 0.5], [0.5, 1.0]]], [[[0.5, 1.0], [1.0, 0.5]]], [[[1.0, 1.5], [1.0, 0.5]]], [[[0.5, 1.0], [1.0, 0.5]], [[1.5, 1.0], [1.0, 1.5]]], [[[1.5, 1.0], [1.0, 0.5]]], [[[0.5, 1.0], [1.5, 1.0]]], [[[1.0, 1.5], [1.5, 1.0]]], [[[0.5, 1.0], [1.0, 1.5]]], []];\nexport default function () {\n  var dx = 1,\n      dy = 1,\n      threshold = thresholdSturges,\n      smooth = smoothLinear;\n\n  function contours(values) {\n    var tz = threshold(values); // Convert number of thresholds into uniform thresholds.\n\n    if (!Array.isArray(tz)) {\n      var domain = extent(values),\n          start = domain[0],\n          stop = domain[1];\n      tz = tickStep(start, stop, tz);\n      tz = range(Math.floor(start / tz) * tz, Math.floor(stop / tz) * tz, tz);\n    } else {\n      tz = tz.slice().sort(ascending);\n    }\n\n    return tz.map(function (value) {\n      return contour(values, value);\n    });\n  } // Accumulate, smooth contour rings, assign holes to exterior rings.\n  // Based on https://github.com/mbostock/shapefile/blob/v0.6.2/shp/polygon.js\n\n\n  function contour(values, value) {\n    var polygons = [],\n        holes = [];\n    isorings(values, value, function (ring) {\n      smooth(ring, values, value);\n      if (area(ring) > 0) polygons.push([ring]);else holes.push(ring);\n    });\n    holes.forEach(function (hole) {\n      for (var i = 0, n = polygons.length, polygon; i < n; ++i) {\n        if (contains((polygon = polygons[i])[0], hole) !== -1) {\n          polygon.push(hole);\n          return;\n        }\n      }\n    });\n    return {\n      type: \"MultiPolygon\",\n      value: value,\n      coordinates: polygons\n    };\n  } // Marching squares with isolines stitched into rings.\n  // Based on https://github.com/topojson/topojson-client/blob/v3.0.0/src/stitch.js\n\n\n  function isorings(values, value, callback) {\n    var fragmentByStart = new Array(),\n        fragmentByEnd = new Array(),\n        x,\n        y,\n        t0,\n        t1,\n        t2,\n        t3; // Special case for the first row (y = -1, t2 = t3 = 0).\n\n    x = y = -1;\n    t1 = values[0] >= value;\n    cases[t1 << 1].forEach(stitch);\n\n    while (++x < dx - 1) {\n      t0 = t1, t1 = values[x + 1] >= value;\n      cases[t0 | t1 << 1].forEach(stitch);\n    }\n\n    cases[t1 << 0].forEach(stitch); // General case for the intermediate rows.\n\n    while (++y < dy - 1) {\n      x = -1;\n      t1 = values[y * dx + dx] >= value;\n      t2 = values[y * dx] >= value;\n      cases[t1 << 1 | t2 << 2].forEach(stitch);\n\n      while (++x < dx - 1) {\n        t0 = t1, t1 = values[y * dx + dx + x + 1] >= value;\n        t3 = t2, t2 = values[y * dx + x + 1] >= value;\n        cases[t0 | t1 << 1 | t2 << 2 | t3 << 3].forEach(stitch);\n      }\n\n      cases[t1 | t2 << 3].forEach(stitch);\n    } // Special case for the last row (y = dy - 1, t0 = t1 = 0).\n\n\n    x = -1;\n    t2 = values[y * dx] >= value;\n    cases[t2 << 2].forEach(stitch);\n\n    while (++x < dx - 1) {\n      t3 = t2, t2 = values[y * dx + x + 1] >= value;\n      cases[t2 << 2 | t3 << 3].forEach(stitch);\n    }\n\n    cases[t2 << 3].forEach(stitch);\n\n    function stitch(line) {\n      var start = [line[0][0] + x, line[0][1] + y],\n          end = [line[1][0] + x, line[1][1] + y],\n          startIndex = index(start),\n          endIndex = index(end),\n          f,\n          g;\n\n      if (f = fragmentByEnd[startIndex]) {\n        if (g = fragmentByStart[endIndex]) {\n          delete fragmentByEnd[f.end];\n          delete fragmentByStart[g.start];\n\n          if (f === g) {\n            f.ring.push(end);\n            callback(f.ring);\n          } else {\n            fragmentByStart[f.start] = fragmentByEnd[g.end] = {\n              start: f.start,\n              end: g.end,\n              ring: f.ring.concat(g.ring)\n            };\n          }\n        } else {\n          delete fragmentByEnd[f.end];\n          f.ring.push(end);\n          fragmentByEnd[f.end = endIndex] = f;\n        }\n      } else if (f = fragmentByStart[endIndex]) {\n        if (g = fragmentByEnd[startIndex]) {\n          delete fragmentByStart[f.start];\n          delete fragmentByEnd[g.end];\n\n          if (f === g) {\n            f.ring.push(end);\n            callback(f.ring);\n          } else {\n            fragmentByStart[g.start] = fragmentByEnd[f.end] = {\n              start: g.start,\n              end: f.end,\n              ring: g.ring.concat(f.ring)\n            };\n          }\n        } else {\n          delete fragmentByStart[f.start];\n          f.ring.unshift(start);\n          fragmentByStart[f.start = startIndex] = f;\n        }\n      } else {\n        fragmentByStart[startIndex] = fragmentByEnd[endIndex] = {\n          start: startIndex,\n          end: endIndex,\n          ring: [start, end]\n        };\n      }\n    }\n  }\n\n  function index(point) {\n    return point[0] * 2 + point[1] * (dx + 1) * 4;\n  }\n\n  function smoothLinear(ring, values, value) {\n    ring.forEach(function (point) {\n      var x = point[0],\n          y = point[1],\n          xt = x | 0,\n          yt = y | 0,\n          v0,\n          v1 = values[yt * dx + xt];\n\n      if (x > 0 && x < dx && xt === x) {\n        v0 = values[yt * dx + xt - 1];\n        point[0] = x + (value - v0) / (v1 - v0) - 0.5;\n      }\n\n      if (y > 0 && y < dy && yt === y) {\n        v0 = values[(yt - 1) * dx + xt];\n        point[1] = y + (value - v0) / (v1 - v0) - 0.5;\n      }\n    });\n  }\n\n  contours.contour = contour;\n\n  contours.size = function (_) {\n    if (!arguments.length) return [dx, dy];\n\n    var _0 = Math.floor(_[0]),\n        _1 = Math.floor(_[1]);\n\n    if (!(_0 >= 0 && _1 >= 0)) throw new Error(\"invalid size\");\n    return dx = _0, dy = _1, contours;\n  };\n\n  contours.thresholds = function (_) {\n    return arguments.length ? (threshold = typeof _ === \"function\" ? _ : Array.isArray(_) ? constant(slice.call(_)) : constant(_), contours) : threshold;\n  };\n\n  contours.smooth = function (_) {\n    return arguments.length ? (smooth = _ ? smoothLinear : noop, contours) : smooth === smoothLinear;\n  };\n\n  return contours;\n}","map":{"version":3,"names":["extent","thresholdSturges","tickStep","range","slice","ascending","area","constant","contains","noop","cases","dx","dy","threshold","smooth","smoothLinear","contours","values","tz","Array","isArray","domain","start","stop","Math","floor","sort","map","value","contour","polygons","holes","isorings","ring","push","forEach","hole","i","n","length","polygon","type","coordinates","callback","fragmentByStart","fragmentByEnd","x","y","t0","t1","t2","t3","stitch","line","end","startIndex","index","endIndex","f","g","concat","unshift","point","xt","yt","v0","v1","size","_","arguments","_0","_1","Error","thresholds","call"],"sources":["C:/Users/Sumac/Documents/GitHub/chronovis-paintbox/node_modules/d3-contour/src/contours.js"],"sourcesContent":["import {extent, thresholdSturges, tickStep, range} from \"d3-array\";\nimport {slice} from \"./array.js\";\nimport ascending from \"./ascending.js\";\nimport area from \"./area.js\";\nimport constant from \"./constant.js\";\nimport contains from \"./contains.js\";\nimport noop from \"./noop.js\";\n\nvar cases = [\n  [],\n  [[[1.0, 1.5], [0.5, 1.0]]],\n  [[[1.5, 1.0], [1.0, 1.5]]],\n  [[[1.5, 1.0], [0.5, 1.0]]],\n  [[[1.0, 0.5], [1.5, 1.0]]],\n  [[[1.0, 1.5], [0.5, 1.0]], [[1.0, 0.5], [1.5, 1.0]]],\n  [[[1.0, 0.5], [1.0, 1.5]]],\n  [[[1.0, 0.5], [0.5, 1.0]]],\n  [[[0.5, 1.0], [1.0, 0.5]]],\n  [[[1.0, 1.5], [1.0, 0.5]]],\n  [[[0.5, 1.0], [1.0, 0.5]], [[1.5, 1.0], [1.0, 1.5]]],\n  [[[1.5, 1.0], [1.0, 0.5]]],\n  [[[0.5, 1.0], [1.5, 1.0]]],\n  [[[1.0, 1.5], [1.5, 1.0]]],\n  [[[0.5, 1.0], [1.0, 1.5]]],\n  []\n];\n\nexport default function() {\n  var dx = 1,\n      dy = 1,\n      threshold = thresholdSturges,\n      smooth = smoothLinear;\n\n  function contours(values) {\n    var tz = threshold(values);\n\n    // Convert number of thresholds into uniform thresholds.\n    if (!Array.isArray(tz)) {\n      var domain = extent(values), start = domain[0], stop = domain[1];\n      tz = tickStep(start, stop, tz);\n      tz = range(Math.floor(start / tz) * tz, Math.floor(stop / tz) * tz, tz);\n    } else {\n      tz = tz.slice().sort(ascending);\n    }\n\n    return tz.map(function(value) {\n      return contour(values, value);\n    });\n  }\n\n  // Accumulate, smooth contour rings, assign holes to exterior rings.\n  // Based on https://github.com/mbostock/shapefile/blob/v0.6.2/shp/polygon.js\n  function contour(values, value) {\n    var polygons = [],\n        holes = [];\n\n    isorings(values, value, function(ring) {\n      smooth(ring, values, value);\n      if (area(ring) > 0) polygons.push([ring]);\n      else holes.push(ring);\n    });\n\n    holes.forEach(function(hole) {\n      for (var i = 0, n = polygons.length, polygon; i < n; ++i) {\n        if (contains((polygon = polygons[i])[0], hole) !== -1) {\n          polygon.push(hole);\n          return;\n        }\n      }\n    });\n\n    return {\n      type: \"MultiPolygon\",\n      value: value,\n      coordinates: polygons\n    };\n  }\n\n  // Marching squares with isolines stitched into rings.\n  // Based on https://github.com/topojson/topojson-client/blob/v3.0.0/src/stitch.js\n  function isorings(values, value, callback) {\n    var fragmentByStart = new Array,\n        fragmentByEnd = new Array,\n        x, y, t0, t1, t2, t3;\n\n    // Special case for the first row (y = -1, t2 = t3 = 0).\n    x = y = -1;\n    t1 = values[0] >= value;\n    cases[t1 << 1].forEach(stitch);\n    while (++x < dx - 1) {\n      t0 = t1, t1 = values[x + 1] >= value;\n      cases[t0 | t1 << 1].forEach(stitch);\n    }\n    cases[t1 << 0].forEach(stitch);\n\n    // General case for the intermediate rows.\n    while (++y < dy - 1) {\n      x = -1;\n      t1 = values[y * dx + dx] >= value;\n      t2 = values[y * dx] >= value;\n      cases[t1 << 1 | t2 << 2].forEach(stitch);\n      while (++x < dx - 1) {\n        t0 = t1, t1 = values[y * dx + dx + x + 1] >= value;\n        t3 = t2, t2 = values[y * dx + x + 1] >= value;\n        cases[t0 | t1 << 1 | t2 << 2 | t3 << 3].forEach(stitch);\n      }\n      cases[t1 | t2 << 3].forEach(stitch);\n    }\n\n    // Special case for the last row (y = dy - 1, t0 = t1 = 0).\n    x = -1;\n    t2 = values[y * dx] >= value;\n    cases[t2 << 2].forEach(stitch);\n    while (++x < dx - 1) {\n      t3 = t2, t2 = values[y * dx + x + 1] >= value;\n      cases[t2 << 2 | t3 << 3].forEach(stitch);\n    }\n    cases[t2 << 3].forEach(stitch);\n\n    function stitch(line) {\n      var start = [line[0][0] + x, line[0][1] + y],\n          end = [line[1][0] + x, line[1][1] + y],\n          startIndex = index(start),\n          endIndex = index(end),\n          f, g;\n      if (f = fragmentByEnd[startIndex]) {\n        if (g = fragmentByStart[endIndex]) {\n          delete fragmentByEnd[f.end];\n          delete fragmentByStart[g.start];\n          if (f === g) {\n            f.ring.push(end);\n            callback(f.ring);\n          } else {\n            fragmentByStart[f.start] = fragmentByEnd[g.end] = {start: f.start, end: g.end, ring: f.ring.concat(g.ring)};\n          }\n        } else {\n          delete fragmentByEnd[f.end];\n          f.ring.push(end);\n          fragmentByEnd[f.end = endIndex] = f;\n        }\n      } else if (f = fragmentByStart[endIndex]) {\n        if (g = fragmentByEnd[startIndex]) {\n          delete fragmentByStart[f.start];\n          delete fragmentByEnd[g.end];\n          if (f === g) {\n            f.ring.push(end);\n            callback(f.ring);\n          } else {\n            fragmentByStart[g.start] = fragmentByEnd[f.end] = {start: g.start, end: f.end, ring: g.ring.concat(f.ring)};\n          }\n        } else {\n          delete fragmentByStart[f.start];\n          f.ring.unshift(start);\n          fragmentByStart[f.start = startIndex] = f;\n        }\n      } else {\n        fragmentByStart[startIndex] = fragmentByEnd[endIndex] = {start: startIndex, end: endIndex, ring: [start, end]};\n      }\n    }\n  }\n\n  function index(point) {\n    return point[0] * 2 + point[1] * (dx + 1) * 4;\n  }\n\n  function smoothLinear(ring, values, value) {\n    ring.forEach(function(point) {\n      var x = point[0],\n          y = point[1],\n          xt = x | 0,\n          yt = y | 0,\n          v0,\n          v1 = values[yt * dx + xt];\n      if (x > 0 && x < dx && xt === x) {\n        v0 = values[yt * dx + xt - 1];\n        point[0] = x + (value - v0) / (v1 - v0) - 0.5;\n      }\n      if (y > 0 && y < dy && yt === y) {\n        v0 = values[(yt - 1) * dx + xt];\n        point[1] = y + (value - v0) / (v1 - v0) - 0.5;\n      }\n    });\n  }\n\n  contours.contour = contour;\n\n  contours.size = function(_) {\n    if (!arguments.length) return [dx, dy];\n    var _0 = Math.floor(_[0]), _1 = Math.floor(_[1]);\n    if (!(_0 >= 0 && _1 >= 0)) throw new Error(\"invalid size\");\n    return dx = _0, dy = _1, contours;\n  };\n\n  contours.thresholds = function(_) {\n    return arguments.length ? (threshold = typeof _ === \"function\" ? _ : Array.isArray(_) ? constant(slice.call(_)) : constant(_), contours) : threshold;\n  };\n\n  contours.smooth = function(_) {\n    return arguments.length ? (smooth = _ ? smoothLinear : noop, contours) : smooth === smoothLinear;\n  };\n\n  return contours;\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}